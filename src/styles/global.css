:root {
	--color-primary: #5d67e8;
	--color-primary-dark: #4c55c7;
	--color-primary-light: #7c85ff;
	--color-surface: #ffffff;
	--color-surface-subtle: #f4f6ff;
	--color-text: #1f2335;
	--color-muted: #4a516a;
	--color-border: #e8ebff;
	--shadow-card: 0 14px 40px rgba(93, 103, 232, 0.16);
	--shadow-soft: 0 8px 26px rgba(20, 26, 64, 0.12);
	--radius-card: 16px;
	--radius-pill: 999px;
	--max-width: 1160px;
}

:root[data-theme='dark'] {
	--color-surface: #050816;
	--color-surface-subtle: #050816;
	--color-text: #e4e7ff;
	--color-muted: #a4a9d9;
	--color-border: #262a4f;
	--shadow-card: 0 18px 46px rgba(3, 6, 32, 0.7);
	--shadow-soft: 0 12px 32px rgba(1, 2, 20, 0.9);
}

@font-face {
	font-family: "Atkinson";
	src: url("/fonts/atkinson-regular.woff") format("woff");
	font-weight: 400;
	font-style: normal;
	font-display: swap;
}
@font-face {
	font-family: "Atkinson";
	src: url("/fonts/atkinson-bold.woff") format("woff");
	font-weight: 700;
	font-style: normal;
	font-display: swap;
}

* {
	box-sizing: border-box;
}

body {
	font-family: "Atkinson", "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
	margin: 0;
	padding: 0;
	background: var(--color-surface);
	color: var(--color-text);
	font-size: 16px;
	line-height: 1.65;
	letter-spacing: 0.01em;
	overflow-x: hidden;
	transition: background-color 0.3s ease, color 0.3s ease;
}

main {
	width: var(--max-width);
	max-width: calc(100% - 2.5rem);
	margin: 0 auto;
	padding: 3.5rem 0 2rem;
}

h1,
h2,
h3,
h4,
h5,
h6 {
	margin: 0 0 0.75rem 0;
	color: var(--color-text);
	font-weight: 700;
	line-height: 1.2;
	letter-spacing: -0.01em;
}

h1 {
	font-size: clamp(2.4rem, 4vw, 3rem);
}
h2 {
	font-size: clamp(1.9rem, 3vw, 2.4rem);
}
h3 {
	font-size: clamp(1.5rem, 2.4vw, 1.9rem);
}
h4 {
	font-size: 1.25rem;
}
h5 {
	font-size: 1.1rem;
}

p {
	margin: 0 0 1.1em 0;
	color: var(--color-muted);
}

a {
	color: var(--color-primary);
	text-decoration: none;
	transition: all 0.18s ease;
}
a:hover {
	color: var(--color-primary-dark);
}

ul,
ol {
	padding-left: 1.25rem;
	color: var(--color-muted);
}

img {
	max-width: 100%;
	height: auto;
	border-radius: 12px;
	display: block;
}

code {
	font-family: "Fira Code", "SFMono-Regular", "Consolas", monospace;
	padding: 0.2em 0.45em;
	border-radius: 8px;
	background: rgba(93, 103, 232, 0.08);
	color: #2f2f6b;
	font-size: 0.92em;
}

pre {
	position: relative;
	padding: 1.4rem;
	border-radius: var(--radius-card);
	overflow: auto;
}

pre > code {
	all: unset;
}

blockquote {
	margin: 1.5rem 0;
	padding: 1.2rem 1.4rem;
	background: rgba(93, 103, 232, 0.06);
	border: 1px solid var(--color-border);
	border-left: 6px solid var(--color-primary);
	border-radius: var(--radius-card);
	color: var(--color-text);
}

hr {
	border: none;
	border-top: 1px solid var(--color-border);
	margin: 2rem 0;
}

.sr-only {
	border: 0;
	padding: 0;
	margin: 0;
	position: absolute !important;
	height: 1px;
	width: 1px;
	overflow: hidden;
	clip: rect(1px 1px 1px 1px);
	clip: rect(1px, 1px, 1px, 1px);
	clip-path: inset(50%);
	white-space: nowrap;
}

.card {
	background: var(--color-surface);
	border: 1px solid var(--color-border);
	border-radius: var(--radius-card);
	box-shadow: var(--shadow-card);
	padding: 1.6rem;
	backdrop-filter: blur(10px);
	transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}
.card:hover {
	transform: translateY(-6px);
	box-shadow: 0 18px 46px rgba(93, 103, 232, 0.22);
	border-color: rgba(93, 103, 232, 0.35);
}

.pill {
	display: inline-flex;
	align-items: center;
	gap: 0.4rem;
	padding: 0.45rem 0.9rem;
	border-radius: var(--radius-pill);
	background: rgba(93, 103, 232, 0.12);
	color: var(--color-primary-dark);
	font-weight: 600;
	font-size: 0.92rem;
	border: 1px solid rgba(93, 103, 232, 0.18);
}
.pill.small {
	font-size: 0.85rem;
	padding: 0.35rem 0.7rem;
}

.btn {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	gap: 0.5rem;
	padding: 0.9rem 1.2rem;
	border-radius: 12px;
	font-weight: 700;
	cursor: pointer;
	border: 1px solid transparent;
	transition: transform 0.18s ease, box-shadow 0.18s ease, background 0.18s ease, border-color 0.18s ease;
}
.btn-primary {
	background: linear-gradient(135deg, var(--color-primary), var(--color-primary-dark));
	color: white;
	box-shadow: 0 10px 30px rgba(93, 103, 232, 0.36);
}
.btn-primary:hover {
	transform: translateY(-2px);
}
.btn-ghost {
	background: rgba(93, 103, 232, 0.08);
	color: var(--color-primary-dark);
	border-color: rgba(93, 103, 232, 0.16);
}
.btn-ghost:hover {
	background: rgba(93, 103, 232, 0.12);
}

.grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
	gap: 1.4rem;
	width: 100%;
}

.muted {
	color: var(--color-muted);
}

.tag {
	display: inline-flex;
	align-items: center;
	padding: 0.35rem 0.8rem;
	border-radius: var(--radius-pill);
	background: var(--color-surface-subtle);
	color: var(--color-primary-dark);
	border: 1px solid var(--color-border);
	font-size: 0.9rem;
	gap: 0.4rem;
}

.section {
	margin: 2.4rem 0;
}

/* Prose 样式 - 用于 Markdown 文档渲染 */
.prose {
	color: var(--color-text);
	max-width: 100%;
	line-height: 1.75;
	font-size: 16px;
}

/* 段落样式 */
.prose p {
	margin-top: 1.25em;
	margin-bottom: 1.25em;
	color: var(--color-text);
}

.prose p:first-child {
	margin-top: 0;
}

.prose p:last-child {
	margin-bottom: 0;
}

/* 标题样式 */
.prose h1 {
	font-size: clamp(1.75rem, 3vw, 2rem);
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
	color: var(--color-text);
	line-height: 1.2;
	letter-spacing: -0.02em;
}

.prose h2 {
	font-size: clamp(1.5rem, 2.5vw, 1.75rem);
	font-weight: 700;
	margin-top: 2em;
	margin-bottom: 0.75em;
	color: var(--color-text);
	line-height: 1.3;
	letter-spacing: -0.01em;
	border-bottom: 2px solid var(--color-border);
	padding-bottom: 0.5em;
}

.prose h3 {
	font-size: clamp(1.25rem, 2vw, 1.5rem);
	font-weight: 700;
	margin-top: 1.75em;
	margin-bottom: 0.75em;
	color: var(--color-text);
	line-height: 1.4;
}

.prose h4 {
	font-size: 1.125rem;
	font-weight: 700;
	margin-top: 1.5em;
	margin-bottom: 0.5em;
	color: var(--color-text);
	line-height: 1.4;
}

.prose h5 {
	font-size: 1rem;
	font-weight: 700;
	margin-top: 1.25em;
	margin-bottom: 0.5em;
	color: var(--color-text);
	line-height: 1.5;
}

.prose h6 {
	font-size: 0.875rem;
	font-weight: 700;
	margin-top: 1em;
	margin-bottom: 0.5em;
	color: var(--color-muted);
	line-height: 1.5;
}

/* 标题锚点链接 */
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6 {
	position: relative;
}

.prose h2 .heading-anchor,
.prose h3 .heading-anchor,
.prose h4 .heading-anchor,
.prose h5 .heading-anchor,
.prose h6 .heading-anchor {
	position: absolute;
	left: -1.5em;
	opacity: 0;
	color: var(--color-primary);
	text-decoration: none;
	font-weight: 400;
	font-size: 0.9em;
	transition: opacity 0.2s ease, color 0.2s ease;
	padding-right: 0.5em;
}

.prose h2:hover .heading-anchor,
.prose h3:hover .heading-anchor,
.prose h4:hover .heading-anchor,
.prose h5:hover .heading-anchor,
.prose h6:hover .heading-anchor {
	opacity: 1;
}

.prose h2 .heading-anchor:hover,
.prose h3 .heading-anchor:hover,
.prose h4 .heading-anchor:hover,
.prose h5 .heading-anchor:hover,
.prose h6 .heading-anchor:hover {
	color: var(--color-primary-dark);
}

/* 列表样式 */
.prose ul,
.prose ol {
	margin-top: 1.25em;
	margin-bottom: 1.25em;
	padding-left: 1.75em;
	color: var(--color-text);
}

.prose ul {
	list-style-type: disc;
}

.prose ol {
	list-style-type: decimal;
}

.prose li {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
	padding-left: 0.375em;
	line-height: 1.75;
}

.prose li > p {
	margin-top: 0.75em;
	margin-bottom: 0.75em;
}

.prose li > :first-child {
	margin-top: 0;
}

.prose li > :last-child {
	margin-bottom: 0;
}

/* 嵌套列表 */
.prose ul ul,
.prose ol ol,
.prose ul ol,
.prose ol ul {
	margin-top: 0.75em;
	margin-bottom: 0.75em;
}

.prose ul ul {
	list-style-type: circle;
}

.prose ul ul ul {
	list-style-type: square;
}

/* 链接样式 */
.prose a {
	color: var(--color-primary);
	text-decoration: underline;
	text-decoration-color: rgba(93, 103, 232, 0.3);
	text-underline-offset: 2px;
	transition: color 0.2s ease, text-decoration-color 0.2s ease;
	font-weight: 500;
}

.prose a:hover {
	color: var(--color-primary-dark);
	text-decoration-color: var(--color-primary);
}

/* 代码样式 */
.prose code {
	font-family: "Fira Code", "SFMono-Regular", "Consolas", "Liberation Mono", "Menlo", monospace;
	font-size: 0.875em;
	padding: 0.2em 0.4em;
	border-radius: 6px;
	background: rgba(93, 103, 232, 0.1);
	color: var(--color-primary-dark);
	font-weight: 500;
}

:root[data-theme='dark'] .prose code {
	background: rgba(93, 103, 232, 0.2);
	color: var(--color-primary-light);
}

/* 代码块容器样式 */
.prose pre {
	position: relative;
	margin-top: 1.5em;
	margin-bottom: 1.5em;
	padding: 1.25rem;
	border-radius: 12px;
	overflow-x: auto;
	font-size: 0.875em;
	line-height: 1.6;
}

/* 有标题栏的代码块不需要顶部圆角 */
.code-block-wrapper pre {
	border-radius: 0;
	padding: 1.25rem;
}

.prose pre > code {
	display: block;
	overflow-wrap: normal;
	word-wrap: normal;
	white-space: pre;
}

/* Shiki 语法高亮主题适配 - 使用官方方式 */
/* 浅色模式 */
.astro-code {
	color: var(--shiki-light);
	background-color: transparent; /* 背景色由 .code-block-wrapper 控制 */
	font-style: var(--shiki-light-font-style);
	font-weight: var(--shiki-light-font-weight);
	text-decoration: var(--shiki-light-text-decoration);
}

.astro-code span {
	color: var(--shiki-light);
	font-style: var(--shiki-light-font-style);
	font-weight: var(--shiki-light-font-weight);
	text-decoration: var(--shiki-light-text-decoration);
}

/* 深色模式 */
:root[data-theme='dark'] .astro-code {
	color: var(--shiki-dark);
	background-color: transparent; /* 背景色由 .code-block-wrapper 控制 */
	font-style: var(--shiki-dark-font-style);
	font-weight: var(--shiki-dark-font-weight);
	text-decoration: var(--shiki-dark-text-decoration);
}

:root[data-theme='dark'] .astro-code span {
	color: var(--shiki-dark);
	font-style: var(--shiki-dark-font-style);
	font-weight: var(--shiki-dark-font-weight);
	text-decoration: var(--shiki-dark-text-decoration);
}

/* 代码块复制按钮容器 */
.code-block-wrapper {
	position: relative;
	border-radius: 12px;
	overflow: hidden;
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
	background: var(--shiki-light-bg);
	transition: box-shadow 0.3s ease, background-color 0.3s ease;
}

/* 确保包装器内的 .astro-code 使用包装器的背景 */
.code-block-wrapper .astro-code {
	background-color: transparent !important;
	background: transparent !important;
}

/* 深色模式 */
:root[data-theme='dark'] .code-block-wrapper {
	background: var(--shiki-dark-bg) !important;
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

:root[data-theme='dark'] .code-block-wrapper .astro-code {
	background-color: transparent !important;
	background: transparent !important;
}

/* 确保深色模式下代码块内的所有元素都透明 */
:root[data-theme='dark'] .code-block-wrapper pre,
:root[data-theme='dark'] .code-block-wrapper pre code,
:root[data-theme='dark'] .code-block-wrapper .astro-code,
:root[data-theme='dark'] .code-block-wrapper .astro-code code {
	background: transparent !important;
	background-color: transparent !important;
}

.code-block-wrapper:hover {
	box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
}

:root[data-theme='dark'] .code-block-wrapper:hover {
	box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
}

/* 终端窗口标题栏 */
.code-block-header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	padding: 0.75rem 1rem;
	background: rgba(0, 0, 0, 0.05);
	border-bottom: 1px solid rgba(0, 0, 0, 0.1);
	font-size: 0.75rem;
	font-weight: 500;
	color: rgba(0, 0, 0, 0.6);
}

:root[data-theme='dark'] .code-block-header {
	background: rgba(255, 255, 255, 0.05);
	border-bottom-color: rgba(255, 255, 255, 0.1);
	color: rgba(255, 255, 255, 0.6);
}

/* 终端窗口圆点按钮 */
.code-block-dots {
	display: flex;
	gap: 0.5rem;
	align-items: center;
}

.code-block-dot {
	width: 12px;
	height: 12px;
	border-radius: 50%;
	border: none;
	cursor: default;
	transition: opacity 0.2s ease;
}

.code-block-dot:hover {
	opacity: 0.8;
}

.code-block-dot.close {
	background: #ff5f57;
}

.code-block-dot.minimize {
	background: #ffbd2e;
}

.code-block-dot.maximize {
	background: #28ca42;
}

/* 代码块标题（语言名称） */
.code-block-title {
	flex: 1;
	text-align: center;
	font-family: "SF Mono", "Monaco", "Inconsolata", "Fira Code", "Consolas", monospace;
	text-transform: uppercase;
	letter-spacing: 0.05em;
	font-size: 0.7rem;
}

.code-block-wrapper pre {
	margin: 0;
	border-radius: 0;
	background: transparent !important; /* 背景色由 .code-block-wrapper 控制 */
}

/* 确保普通 pre 元素（非 Shiki）也有背景色 */
.code-block-wrapper pre:not(.astro-code) {
	background: transparent !important;
}

/* 确保代码块内的所有元素都使用透明背景，由 wrapper 统一控制 */
.code-block-wrapper pre code {
	background: transparent !important;
}

.code-block-wrapper .astro-code code {
	background: transparent !important;
}

/* 复制按钮样式 */
.code-copy-btn {
	position: absolute;
	top: 0.75rem;
	right: 1rem;
	display: flex;
	align-items: center;
	justify-content: center;
	width: 28px;
	height: 28px;
	padding: 0;
	border: none;
	border-radius: 4px;
	background: rgba(93, 103, 232, 0.1);
	color: var(--color-primary);
	cursor: pointer;
	opacity: 0;
	transition: all 0.2s ease;
	z-index: 10;
	font-size: 12px;
	backdrop-filter: blur(4px);
}

.code-block-wrapper:hover .code-copy-btn {
	opacity: 1;
}

.code-copy-btn:hover {
	background: rgba(93, 103, 232, 0.2);
	transform: scale(1.05);
}

.code-copy-btn:active {
	transform: scale(0.95);
}

.code-copy-btn.copied {
	background: rgba(76, 175, 80, 0.2);
	color: #4caf50;
}

:root[data-theme='dark'] .code-copy-btn {
	background: rgba(93, 103, 232, 0.2);
	color: var(--color-primary-light);
}

:root[data-theme='dark'] .code-copy-btn:hover {
	background: rgba(93, 103, 232, 0.3);
}

:root[data-theme='dark'] .code-copy-btn.copied {
	background: rgba(76, 175, 80, 0.3);
	color: #66bb6a;
}

/* 引用块样式 */
.prose blockquote {
	margin-top: 1.5em;
	margin-bottom: 1.5em;
	padding: 1rem 1.5rem;
	background: rgba(93, 103, 232, 0.08);
	border-left: 4px solid var(--color-primary);
	border-radius: 8px;
	color: var(--color-text);
	font-style: normal;
}

.prose blockquote p {
	margin-top: 0;
	margin-bottom: 0.75em;
	color: var(--color-text);
}

.prose blockquote p:last-child {
	margin-bottom: 0;
}

.prose blockquote > :first-child {
	margin-top: 0;
}

.prose blockquote > :last-child {
	margin-bottom: 0;
}

/* 表格样式 */
.prose table {
	width: 100%;
	margin-top: 1.5em;
	margin-bottom: 1.5em;
	border-collapse: collapse;
	font-size: 0.9375em;
	overflow-x: auto;
	display: block;
}

.prose table thead {
	border-bottom: 2px solid var(--color-border);
}

.prose table th {
	padding: 0.75rem 1rem;
	text-align: left;
	font-weight: 700;
	color: var(--color-text);
	background: rgba(93, 103, 232, 0.05);
	border-bottom: 2px solid var(--color-border);
}

.prose table td {
	padding: 0.75rem 1rem;
	border-bottom: 1px solid var(--color-border);
	color: var(--color-text);
}

.prose table tbody tr:hover {
	background: rgba(93, 103, 232, 0.03);
}

.prose table tbody tr:last-child td {
	border-bottom: none;
}

/* 图片样式 */
.prose img {
	margin-top: 2em;
	margin-bottom: 2em;
	border-radius: 12px;
	box-shadow: var(--shadow-soft);
	max-width: 100%;
	height: auto;
}

.prose img:first-child {
	margin-top: 0;
}

/* 水平分割线 */
.prose hr {
	margin-top: 3em;
	margin-bottom: 3em;
	border: none;
	border-top: 2px solid var(--color-border);
}

/* 强调文本 */
.prose strong {
	font-weight: 700;
	color: var(--color-text);
}

.prose em {
	font-style: italic;
	color: var(--color-text);
}

/* 删除线 */
.prose del {
	text-decoration: line-through;
	color: var(--color-muted);
}

/* 键盘按键样式 */
.prose kbd {
	font-family: "Fira Code", monospace;
	font-size: 0.85em;
	padding: 0.2em 0.4em;
	border-radius: 4px;
	background: var(--color-surface-subtle);
	border: 1px solid var(--color-border);
	box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* 任务列表 */
.prose input[type="checkbox"] {
	margin-right: 0.5em;
	margin-top: 0.25em;
	accent-color: var(--color-primary);
}

/* 响应式调整 */
@media (max-width: 768px) {
	.prose {
		font-size: 15px;
	}
	
	.prose h1 {
		font-size: 1.625rem;
	}
	
	.prose h2 {
		font-size: 1.375rem;
		margin-top: 1.5em;
	}
	
	.prose h3 {
		font-size: 1.125rem;
		margin-top: 1.25em;
	}
	
	.prose h4 {
		font-size: 1rem;
	}
	
	.prose pre {
		padding: 1rem;
		font-size: 0.8125em;
	}
	
	.prose table {
		font-size: 0.875em;
	}
	
	.prose table th,
	.prose table td {
		padding: 0.5rem 0.75rem;
	}
}

@media (max-width: 768px) {
	body {
		font-size: 15px;
	}
	main {
		max-width: calc(100% - 1.5rem);
		padding: 2.5rem 0 1.5rem;
	}
}

---
title: æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–
date: 2025-01-22
prevChapter: "harmonyos-dev/15-performance-optimization/01-å¯åŠ¨æ€§èƒ½ä¼˜åŒ–"
nextChapter: "harmonyos-dev/15-performance-optimization/03-å†…å­˜ä¸Žç”µé‡ä¼˜åŒ–"
parentChapter: "harmonyos-dev/15-performance-optimization/README"
---
# æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–

> æå‡UIæ¸²æŸ“æ€§èƒ½

## ðŸŽ¨ å¸ƒå±€ä¼˜åŒ–

### å‡å°‘å¸ƒå±€å±‚çº§

```typescript
// âŒ é¿å…è¿‡æ·±çš„åµŒå¥—
Column() {
  Row() {
    Column() {
      Row() {
        Text('å†…å®¹')
      }
    }
  }
}

// âœ… æ‰å¹³åŒ–å¸ƒå±€
Column() {
  Text('å†…å®¹')
}
```

### ä½¿ç”¨åˆé€‚çš„å¸ƒå±€

```typescript
// âœ… ä½¿ç”¨Flexè‡ªé€‚åº”å¸ƒå±€
Flex({ justifyContent: FlexAlign.SpaceBetween }) {
  Text('å·¦ä¾§')
  Text('å³ä¾§')
}

// âœ… ä½¿ç”¨Gridç½‘æ ¼å¸ƒå±€
Grid() {
  ForEach(items, (item) => {
    GridItem() {
      Text(item)
    }
  })
}
```

## ðŸ“œ åˆ—è¡¨ä¼˜åŒ–

### LazyForEach æ‡’åŠ è½½

```typescript
@Entry
@Component
struct OptimizedList {
  private dataSource: MyDataSource = new MyDataSource()
  
  build() {
    List() {
      LazyForEach(this.dataSource, (item: string) => {
        ListItem() {
          Text(item)
            .width('100%')
            .height(60)
        }
      }, (item: string) => item)
    }
    .cachedCount(3)  // ç¼“å­˜3ä¸ª
  }
}

class MyDataSource implements IDataSource {
  private list: string[] = []
  
  constructor() {
    for (let i = 0; i < 10000; i++) {
      this.list.push(`Item ${i}`)
    }
  }
  
  totalCount(): number {
    return this.list.length
  }
  
  getData(index: number): string {
    return this.list[index]
  }
  
  registerDataChangeListener(listener: DataChangeListener): void {}
  unregisterDataChangeListener(listener: DataChangeListener): void {}
}
```

## ðŸŽ¬ åŠ¨ç”»æ€§èƒ½

### ä½¿ç”¨transformå±žæ€§

```typescript
// âœ… ä½¿ç”¨transformï¼ˆGPUåŠ é€Ÿï¼‰
.translate({ x: this.offsetX })
.scale({ x: this.scale })
.rotate({ angle: this.angle })

// âŒ é¿å…æ”¹å˜å¸ƒå±€å±žæ€§
.width(this.width)  // ä¼šè§¦å‘é‡æŽ’
.height(this.height)
```

## ðŸ’¡ æœ€ä½³å®žè·µ

```typescript
// âœ… é¿å…åœ¨buildä¸­è¿›è¡Œå¤æ‚è®¡ç®—
@State data: ProcessedData = this.processData()

// âœ… ä½¿ç”¨@Reusableå¤ç”¨ç»„ä»¶
@Reusable
@Component
struct ReusableItem {
  aboutToReuse(params: object) {
    // æ›´æ–°æ•°æ®
  }
}
```

## ðŸ“š å‚è€ƒèµ„æº

- [æ€§èƒ½ä¼˜åŒ–æŒ‡å—](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/performance-optimization-overview-0000001820880685-V5)

---

**ä¸‹ä¸€èŠ‚** â†’ [å†…å­˜ä¸Žç”µé‡ä¼˜åŒ–](03-å†…å­˜ä¸Žç”µé‡ä¼˜åŒ–.md)

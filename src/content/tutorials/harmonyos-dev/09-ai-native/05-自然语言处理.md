---
title: è‡ªç„¶è¯­è¨€å¤„ç†
date: 2025-01-22
prevChapter: "harmonyos-dev/09-ai-native/04-å›¾åƒè¯†åˆ«ä¸å¤„ç†"
nextChapter: "harmonyos-dev/09-ai-native/06-AIæ¨¡å‹é›†æˆ"
parentChapter: "harmonyos-dev/09-ai-native/README"
---
# è‡ªç„¶è¯­è¨€å¤„ç†

> å®ç°æ™ºèƒ½æ–‡æœ¬åˆ†æ

## ğŸ“ æ–‡æœ¬åˆ†ç±»

### åŸºç¡€æ–‡æœ¬åˆ†ç±»

```typescript
import { textClassifier } from '@ohos.ai.nlp'

// åˆ›å»ºåˆ†ç±»å™¨
const classifier = textClassifier.create({
  language: 'zh-CN',
  categories: ['ç§‘æŠ€', 'ä½“è‚²', 'å¨±ä¹', 'è´¢ç»', 'æ”¿æ²»']
})

// åˆ†ç±»æ–‡æœ¬
const text = 'åä¸ºå‘å¸ƒæœ€æ–°æ——èˆ°æ‰‹æœºï¼Œæ­è½½éº’éºŸèŠ¯ç‰‡'
const result = await classifier.classify(text)

console.log('åˆ†ç±»:', result.category)        // ç§‘æŠ€
console.log('ç½®ä¿¡åº¦:', result.confidence)    // 0.95
```

### å¤šæ ‡ç­¾åˆ†ç±»

```typescript
const classifier = textClassifier.create({
  multiLabel: true,
  topK: 3
})

const text = 'è¿™éƒ¨ç”µå½±çš„ç‰¹æ•ˆå¾ˆæ£’ï¼Œå‰§æƒ…ä¹Ÿå¾ˆç²¾å½©'
const results = await classifier.classify(text)

results.forEach(result => {
  console.log(`${result.label}: ${result.confidence}`)
})
// è¾“å‡ºï¼š
// ç”µå½±: 0.98
// å¨±ä¹: 0.85
// è¯„è®º: 0.76
```

## ğŸ˜Š æƒ…æ„Ÿåˆ†æ

### æƒ…æ„Ÿè¯†åˆ«

```typescript
import { sentimentAnalyzer } from '@ohos.ai.nlp'

const analyzer = sentimentAnalyzer.create({
  language: 'zh-CN'
})

// åˆ†ææƒ…æ„Ÿ
const text = 'è¿™ä¸ªäº§å“çœŸçš„å¾ˆæ£’ï¼Œæˆ‘éå¸¸å–œæ¬¢ï¼'
const sentiment = await analyzer.analyze(text)

console.log('æƒ…æ„Ÿ:', sentiment.type)          // positive
console.log('å¾—åˆ†:', sentiment.score)         // 0.92
console.log('ç½®ä¿¡åº¦:', sentiment.confidence)  // 0.88
```

### æƒ…æ„Ÿè¶‹åŠ¿åˆ†æ

```typescript
@Entry
@Component
struct ReviewAnalysis {
  @State reviews: Review[] = []
  @State sentiment: SentimentStats = null
  private analyzer: SentimentAnalyzer
  
  async aboutToAppear() {
    this.analyzer = sentimentAnalyzer.create()
    await this.analyzeReviews()
  }
  
  async analyzeReviews() {
    const results = []
    
    for (const review of this.reviews) {
      const sentiment = await this.analyzer.analyze(review.text)
      results.push(sentiment)
    }
    
    // ç»Ÿè®¡
    this.sentiment = {
      positive: results.filter(r => r.type === 'positive').length,
      neutral: results.filter(r => r.type === 'neutral').length,
      negative: results.filter(r => r.type === 'negative').length,
      avgScore: results.reduce((sum, r) => sum + r.score, 0) / results.length
    }
  }
  
  build() {
    Column({ space: 20 }) {
      Text('è¯„è®ºåˆ†æ')
        .fontSize(24)
        .fontWeight(FontWeight.Bold)
      
      if (this.sentiment) {
        Row({ space: 20 }) {
          Column() {
            Text(`${this.sentiment.positive}`)
              .fontSize(32)
              .fontColor(Color.Green)
            Text('æ­£é¢')
          }
          
          Column() {
            Text(`${this.sentiment.neutral}`)
              .fontSize(32)
              .fontColor(Color.Gray)
            Text('ä¸­æ€§')
          }
          
          Column() {
            Text(`${this.sentiment.negative}`)
              .fontSize(32)
              .fontColor(Color.Red)
            Text('è´Ÿé¢')
          }
        }
        
        Text(`å¹³å‡å¾—åˆ†: ${this.sentiment.avgScore.toFixed(2)}`)
          .fontSize(18)
      }
    }
    .padding(20)
  }
}
```

## ğŸ·ï¸ å‘½åå®ä½“è¯†åˆ«

### å®ä½“æå–

```typescript
import { entityRecognizer } from '@ohos.ai.nlp'

const recognizer = entityRecognizer.create({
  language: 'zh-CN',
  entityTypes: ['PERSON', 'LOCATION', 'ORGANIZATION', 'TIME']
})

const text = 'é©¬äº‘åœ¨æ­å·åˆ›ç«‹äº†é˜¿é‡Œå·´å·´é›†å›¢'
const entities = await recognizer.recognize(text)

entities.forEach(entity => {
  console.log(`${entity.text}: ${entity.type}`)
})
// è¾“å‡ºï¼š
// é©¬äº‘: PERSON
// æ­å·: LOCATION
// é˜¿é‡Œå·´å·´é›†å›¢: ORGANIZATION
```

## ğŸŒ æœºå™¨ç¿»è¯‘

### æ–‡æœ¬ç¿»è¯‘

```typescript
import { translator } from '@ohos.ai.nlp'

const trans = translator.create({
  from: 'zh-CN',
  to: 'en-US'
})

const text = 'ä½ å¥½ï¼Œä¸–ç•Œ'
const result = await trans.translate(text)

console.log('ç¿»è¯‘ç»“æœ:', result.text)  // Hello, World
```

### å®æ—¶ç¿»è¯‘

```typescript
@Entry
@Component
struct TranslatorApp {
  @State sourceText: string = ''
  @State translatedText: string = ''
  @State sourceLang: string = 'zh-CN'
  @State targetLang: string = 'en-US'
  private translator: Translator
  private debounceTimer: number = 0
  
  async aboutToAppear() {
    this.translator = translator.create({
      from: this.sourceLang,
      to: this.targetLang
    })
  }
  
  onTextChange(text: string) {
    this.sourceText = text
    
    // é˜²æŠ–
    if (this.debounceTimer) {
      clearTimeout(this.debounceTimer)
    }
    
    this.debounceTimer = setTimeout(async () => {
      if (text.trim()) {
        const result = await this.translator.translate(text)
        this.translatedText = result.text
      }
    }, 500)
  }
  
  build() {
    Column({ space: 20 }) {
      Text('å®æ—¶ç¿»è¯‘')
        .fontSize(24)
        .fontWeight(FontWeight.Bold)
      
      // è¯­è¨€é€‰æ‹©
      Row({ space: 10 }) {
        Select([
          { value: 'ä¸­æ–‡', data: 'zh-CN' },
          { value: 'English', data: 'en-US' },
          { value: 'æ—¥æœ¬èª', data: 'ja-JP' }
        ])
        .onSelect((index) => {
          // æ›´æ–°æºè¯­è¨€
        })
        
        Text('â†’')
          .fontSize(20)
        
        Select([
          { value: 'English', data: 'en-US' },
          { value: 'ä¸­æ–‡', data: 'zh-CN' },
          { value: 'æ—¥æœ¬èª', data: 'ja-JP' }
        ])
        .onSelect((index) => {
          // æ›´æ–°ç›®æ ‡è¯­è¨€
        })
      }
      
      // è¾“å…¥æ¡†
      TextArea({ placeholder: 'è¾“å…¥è¦ç¿»è¯‘çš„æ–‡æœ¬' })
        .height(150)
        .onChange((value) => {
          this.onTextChange(value)
        })
      
      Divider()
      
      // ç¿»è¯‘ç»“æœ
      Column({ space: 10 }) {
        Text('ç¿»è¯‘ç»“æœ')
          .fontSize(14)
          .fontColor(Color.Gray)
        
        Text(this.translatedText || 'ç­‰å¾…è¾“å…¥...')
          .fontSize(18)
          .padding(15)
          .backgroundColor(0xF5F5F5)
          .width('100%')
          .minHeight(150)
          .borderRadius(8)
      }
    }
    .padding(20)
    .width('100%')
  }
}
```

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. æ‰¹é‡å¤„ç†

```typescript
// âœ… æ‰¹é‡åˆ†ç±»
const texts = ['æ–‡æœ¬1', 'æ–‡æœ¬2', 'æ–‡æœ¬3']
const results = await classifier.batchClassify(texts)
```

### 2. ç¼“å­˜ç»“æœ

```typescript
const cache = new Map<string, ClassifyResult>()

async function classifyWithCache(text: string) {
  if (cache.has(text)) {
    return cache.get(text)
  }
  
  const result = await classifier.classify(text)
  cache.set(text, result)
  return result
}
```

### 3. ç¦»çº¿æ¨¡å‹

```typescript
// åŠ è½½ç¦»çº¿æ¨¡å‹
const classifier = textClassifier.create({
  modelPath: '/data/storage/el2/base/files/nlp_model.ms',
  offline: true
})
```

## ğŸ“š å‚è€ƒèµ„æº

- [AIèƒ½åŠ›å¼€å‘](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ai-development-intro-0000001820880589-V5)

---

**ä¸‹ä¸€èŠ‚** â†’ [AIæ¨¡å‹é›†æˆ](06-AIæ¨¡å‹é›†æˆ.md)

---
title: ç«¯ä¾§ AI æ¦‚è¿°
date: 2025-01-22
nextChapter: "harmonyos-dev/09-ai-native/02-AI-Engine-API"
parentChapter: "harmonyos-dev/09-ai-native/README"
---
# ç«¯ä¾§ AI æ¦‚è¿°

> HarmonyOS NEXT çš„æ ¸å¿ƒç«äº‰åŠ› - AI åŸç”ŸåŒ–

## ğŸ¤– ä»€ä¹ˆæ˜¯ç«¯ä¾§ AI

### äº‘ç«¯ AI vs ç«¯ä¾§ AI

| ç‰¹æ€§ | äº‘ç«¯ AI | ç«¯ä¾§ AI |
|------|--------|---------|
| **å“åº”é€Ÿåº¦** | æ…¢ï¼ˆç½‘ç»œå»¶è¿Ÿï¼‰ | å¿«ï¼ˆæ¯«ç§’çº§ï¼‰ |
| **éšç§ä¿æŠ¤** | æ•°æ®ä¸Šä¼ åˆ°äº‘ç«¯ | æ•°æ®ä¸ç¦»è®¾å¤‡ â­ |
| **ç¦»çº¿å¯ç”¨** | éœ€è¦ç½‘ç»œ | å®Œå…¨ç¦»çº¿ â­ |
| **è®¡ç®—èµ„æº** | äº‘ç«¯æœåŠ¡å™¨ | æœ¬åœ°ç¡¬ä»¶ |
| **æˆæœ¬** | æŒ‰ä½¿ç”¨è®¡è´¹ | ä¸€æ¬¡æ€§æˆæœ¬ |
| **æ¨¡å‹è§„æ¨¡** | å¤§æ¨¡å‹ | è½»é‡åŒ–æ¨¡å‹ |

### ç«¯ä¾§ AI ä¼˜åŠ¿

```
ç«¯ä¾§ AI = 
â”œâ”€ ğŸš€ æé€Ÿå“åº”ï¼ˆ<100msï¼‰
â”œâ”€ ğŸ”’ éšç§å®‰å…¨ï¼ˆæ•°æ®ä¸å‡ºè®¾å¤‡ï¼‰
â”œâ”€ ğŸ“¡ ç¦»çº¿å¯ç”¨ï¼ˆæ— éœ€ç½‘ç»œï¼‰
â”œâ”€ ğŸ’° é™ä½æˆæœ¬ï¼ˆæ— äº‘ç«¯è´¹ç”¨ï¼‰
â””â”€ ğŸ¯ ä¸ªæ€§åŒ–ï¼ˆæœ¬åœ°å­¦ä¹ ï¼‰
```

## ğŸ—ï¸ HarmonyOS NEXT AI æ¶æ„

### æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     åº”ç”¨å±‚ (Application)           â”‚
â”‚  â”œâ”€ è¯­éŸ³åŠ©æ‰‹                       â”‚
â”‚  â”œâ”€ æ™ºèƒ½ç›¸å†Œ                       â”‚
â”‚  â””â”€ å®æ—¶ç¿»è¯‘                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     AI Engine API                 â”‚
â”‚  â”œâ”€ è¯­éŸ³è¯†åˆ«/åˆæˆ                  â”‚
â”‚  â”œâ”€ å›¾åƒè¯†åˆ«/åˆ†ç±»                  â”‚
â”‚  â”œâ”€ è‡ªç„¶è¯­è¨€å¤„ç†                   â”‚
â”‚  â””â”€ æ¨¡å‹ç®¡ç†                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     AI æ¨ç†å¼•æ“                    â”‚
â”‚  â”œâ”€ MindSpore Lite               â”‚
â”‚  â”œâ”€ ONNX Runtime                 â”‚
â”‚  â””â”€ TensorFlow Lite              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     ç¡¬ä»¶åŠ é€Ÿå±‚                     â”‚
â”‚  â”œâ”€ NPUï¼ˆç¥ç»ç½‘ç»œå¤„ç†å™¨ï¼‰           â”‚
â”‚  â”œâ”€ GPU                          â”‚
â”‚  â””â”€ DSP                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### AI Engine æ ¸å¿ƒèƒ½åŠ›

```typescript
AI Engine
â”œâ”€ è¯­éŸ³èƒ½åŠ›
â”‚   â”œâ”€ è¯­éŸ³è¯†åˆ« (ASR)
â”‚   â”œâ”€ è¯­éŸ³åˆæˆ (TTS)
â”‚   â”œâ”€ å£°çº¹è¯†åˆ«
â”‚   â””â”€ è¯­éŸ³å”¤é†’
â”œâ”€ è§†è§‰èƒ½åŠ›
â”‚   â”œâ”€ å›¾åƒåˆ†ç±»
â”‚   â”œâ”€ ç›®æ ‡æ£€æµ‹
â”‚   â”œâ”€ äººè„¸è¯†åˆ«
â”‚   â”œâ”€ OCR æ–‡å­—è¯†åˆ«
â”‚   â””â”€ å›¾åƒåˆ†å‰²
â”œâ”€ è¯­è¨€èƒ½åŠ›
â”‚   â”œâ”€ æ–‡æœ¬åˆ†ç±»
â”‚   â”œâ”€ æƒ…æ„Ÿåˆ†æ
â”‚   â”œâ”€ å‘½åå®ä½“è¯†åˆ«
â”‚   â”œâ”€ æœºå™¨ç¿»è¯‘
â”‚   â””â”€ æ–‡æœ¬ç”Ÿæˆ
â””â”€ å¤šæ¨¡æ€
    â”œâ”€ å›¾æ–‡ç†è§£
    â”œâ”€ è§†é¢‘ç†è§£
    â””â”€ è·¨æ¨¡æ€æ£€ç´¢
```

## ğŸ¯ æ ¸å¿ƒ API æ¦‚è§ˆ

### 1. AI Engine åˆå§‹åŒ–

```typescript
import { aiEngine } from '@ohos.ai.engine'

// åˆå§‹åŒ– AI Engine
const engine = aiEngine.create({
  enableNPU: true,      // å¯ç”¨ NPU åŠ é€Ÿ
  enableGPU: true,      // å¯ç”¨ GPU åŠ é€Ÿ
  threads: 4,           // çº¿ç¨‹æ•°
  priority: 'high'      // ä¼˜å…ˆçº§
})
```

### 2. è¯­éŸ³è¯†åˆ«ç¤ºä¾‹

```typescript
import { speechRecognizer } from '@ohos.ai.speech'

// åˆ›å»ºè¯­éŸ³è¯†åˆ«å™¨
const recognizer = speechRecognizer.create({
  language: 'zh-CN',
  continuous: true,
  enablePunctuation: true
})

// å¼€å§‹è¯†åˆ«
recognizer.start()

// ç›‘å¬è¯†åˆ«ç»“æœ
recognizer.on('result', (result) => {
  console.log('è¯†åˆ«ç»“æœ:', result.text)
  console.log('ç½®ä¿¡åº¦:', result.confidence)
})

// åœæ­¢è¯†åˆ«
recognizer.stop()
```

### 3. å›¾åƒè¯†åˆ«ç¤ºä¾‹

```typescript
import { imageClassifier } from '@ohos.ai.vision'

// åˆ›å»ºå›¾åƒåˆ†ç±»å™¨
const classifier = imageClassifier.create({
  modelType: 'MobileNetV3',
  topK: 5  // è¿”å›å‰5ä¸ªç»“æœ
})

// åŠ è½½å›¾ç‰‡
const imageData = await loadImage('path/to/image.jpg')

// æ‰§è¡Œåˆ†ç±»
const results = await classifier.classify(imageData)

results.forEach((result, index) => {
  console.log(`${index + 1}. ${result.label}: ${result.confidence}`)
})
```

### 4. æ–‡æœ¬åˆ†ç±»ç¤ºä¾‹

```typescript
import { textClassifier } from '@ohos.ai.nlp'

// åˆ›å»ºæ–‡æœ¬åˆ†ç±»å™¨
const classifier = textClassifier.create({
  modelPath: 'sentiment_analysis.ms',
  labels: ['æ­£é¢', 'è´Ÿé¢', 'ä¸­æ€§']
})

// åˆ†ç±»æ–‡æœ¬
const text = 'è¿™ä¸ªäº§å“éå¸¸å¥½ç”¨ï¼Œæˆ‘å¾ˆæ»¡æ„ï¼'
const result = await classifier.classify(text)

console.log('æƒ…æ„Ÿ:', result.label)
console.log('ç½®ä¿¡åº¦:', result.confidence)
```

## ğŸš€ åº”ç”¨åœºæ™¯

### 1. æ™ºèƒ½è¯­éŸ³åŠ©æ‰‹

```typescript
@Entry
@Component
struct VoiceAssistant {
  @State transcript: string = ''
  @State isListening: boolean = false
  private recognizer: SpeechRecognizer
  
  async startListening() {
    this.recognizer = speechRecognizer.create({
      language: 'zh-CN'
    })
    
    this.recognizer.on('result', (result) => {
      this.transcript = result.text
      this.handleCommand(result.text)
    })
    
    await this.recognizer.start()
    this.isListening = true
  }
  
  handleCommand(command: string) {
    if (command.includes('æ‰“å¼€ç›¸æœº')) {
      // æ‰“å¼€ç›¸æœº
    } else if (command.includes('æ’­æ”¾éŸ³ä¹')) {
      // æ’­æ”¾éŸ³ä¹
    }
  }
  
  build() {
    Column() {
      Text(this.transcript)
        .fontSize(18)
      
      Button(this.isListening ? 'åœæ­¢' : 'å¼€å§‹')
        .onClick(() => {
          if (this.isListening) {
            this.recognizer.stop()
            this.isListening = false
          } else {
            this.startListening()
          }
        })
    }
  }
}
```

### 2. æ™ºèƒ½ç›¸å†Œ

```typescript
@Entry
@Component
struct SmartAlbum {
  @State photos: Photo[] = []
  @State searchResults: Photo[] = []
  private classifier: ImageClassifier
  
  async aboutToAppear() {
    this.classifier = imageClassifier.create()
    await this.scanPhotos()
  }
  
  async scanPhotos() {
    const allPhotos = await getPhotoList()
    
    for (const photo of allPhotos) {
      const imageData = await loadPhoto(photo.path)
      const tags = await this.classifier.classify(imageData)
      
      photo.tags = tags.map(t => t.label)
      this.photos.push(photo)
    }
  }
  
  async searchByText(query: string) {
    // æ ¹æ®æ ‡ç­¾æœç´¢ç…§ç‰‡
    this.searchResults = this.photos.filter(photo => 
      photo.tags.some(tag => tag.includes(query))
    )
  }
  
  build() {
    Column() {
      SearchBar({ 
        onSearch: (text) => this.searchByText(text) 
      })
      
      Grid() {
        ForEach(this.searchResults, (photo: Photo) => {
          GridItem() {
            Image(photo.path)
          }
        })
      }
    }
  }
}
```

### 3. å®æ—¶ç¿»è¯‘

```typescript
@Entry
@Component
struct RealtimeTranslator {
  @State sourceText: string = ''
  @State translatedText: string = ''
  private translator: Translator
  
  async aboutToAppear() {
    this.translator = translator.create({
      sourceLang: 'zh',
      targetLang: 'en',
      offline: true  // ç¦»çº¿ç¿»è¯‘
    })
  }
  
  async translate() {
    const result = await this.translator.translate(this.sourceText)
    this.translatedText = result.text
  }
  
  build() {
    Column() {
      TextArea({ 
        placeholder: 'è¾“å…¥ä¸­æ–‡' 
      })
        .onChange((value) => {
          this.sourceText = value
          this.translate()  // å®æ—¶ç¿»è¯‘
        })
      
      Divider()
      
      Text(this.translatedText)
        .fontSize(18)
        .padding(20)
    }
  }
}
```

## ğŸ’¡ æ€§èƒ½ä¼˜åŒ–

### 1. æ¨¡å‹åŠ è½½ä¼˜åŒ–

```typescript
// âŒ æ¯æ¬¡éƒ½åŠ è½½æ¨¡å‹
async function classify(image) {
  const classifier = await imageClassifier.create()
  return await classifier.classify(image)
}

// âœ… å¤ç”¨æ¨¡å‹å®ä¾‹
class ImageService {
  private classifier: ImageClassifier
  
  async init() {
    this.classifier = await imageClassifier.create()
  }
  
  async classify(image) {
    return await this.classifier.classify(image)
  }
}
```

### 2. ç¡¬ä»¶åŠ é€Ÿ

```typescript
// å¯ç”¨ NPU åŠ é€Ÿ
const classifier = imageClassifier.create({
  enableNPU: true,        // NPU åŠ é€Ÿ
  enableGPU: true,        // GPU åŠ é€Ÿ
  enableDSP: true,        // DSP åŠ é€Ÿ
  precision: 'FP16'       // åŠç²¾åº¦è®¡ç®—
})
```

### 3. æ‰¹å¤„ç†

```typescript
// âœ… æ‰¹é‡å¤„ç†æé«˜æ•ˆç‡
async function batchClassify(images: ImageData[]) {
  const classifier = await imageClassifier.create()
  const results = await classifier.batchClassify(images, {
    batchSize: 32  // æ‰¹é‡å¤§å°
  })
  return results
}
```

## ğŸ”’ éšç§ä¿æŠ¤

### æ•°æ®ä¸å‡ºè®¾å¤‡

```typescript
// æ‰€æœ‰ AI æ¨ç†éƒ½åœ¨æœ¬åœ°å®Œæˆ
const result = await classifier.classify(imageData)
// imageData ä»æœªä¸Šä¼ åˆ°äº‘ç«¯

// ç”¨æˆ·æ•°æ®å®Œå…¨æœ¬åœ°åŒ–
const userProfile = {
  preferences: localAI.analyze(userBehavior),
  recommendations: localAI.recommend(userHistory)
}
```

### æƒé™ç®¡ç†

```typescript
// è¯·æ±‚ AI èƒ½åŠ›æƒé™
const permissions = [
  'ohos.permission.MICROPHONE',       // éº¦å…‹é£ï¼ˆè¯­éŸ³è¯†åˆ«ï¼‰
  'ohos.permission.CAMERA',           // ç›¸æœºï¼ˆå›¾åƒè¯†åˆ«ï¼‰
  'ohos.permission.READ_MEDIA'        // è¯»å–åª’ä½“ï¼ˆå›¾ç‰‡åˆ†æï¼‰
]

await requestPermissions(permissions)
```

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### æ¨ç†é€Ÿåº¦

| ä»»åŠ¡ç±»å‹ | æ¨¡å‹å¤§å° | NPU æ¨ç†æ—¶é—´ | CPU æ¨ç†æ—¶é—´ |
|---------|---------|-------------|-------------|
| å›¾åƒåˆ†ç±» | 5MB | 10ms | 100ms |
| ç›®æ ‡æ£€æµ‹ | 20MB | 50ms | 500ms |
| è¯­éŸ³è¯†åˆ« | 10MB | 20ms | 200ms |
| æ–‡æœ¬åˆ†ç±» | 2MB | 5ms | 50ms |

### åŠŸè€—å¯¹æ¯”

```
æ¨ç† 1000 æ¬¡å›¾åƒåˆ†ç±»ä»»åŠ¡ï¼š
â”œâ”€ NPU: 30mAh
â”œâ”€ GPU: 50mAh
â””â”€ CPU: 100mAh
```

## ğŸ“ å­¦ä¹ è·¯å¾„

### åˆçº§ï¼ˆ1-2å‘¨ï¼‰

1. âœ… ç†è§£ç«¯ä¾§ AI æ¦‚å¿µ
2. âœ… å­¦ä¹  AI Engine API
3. âœ… è¿è¡Œç¤ºä¾‹ä»£ç 
4. âœ… å®Œæˆç®€å• Demo

### ä¸­çº§ï¼ˆ3-4å‘¨ï¼‰

1. âœ… é›†æˆå„ç§ AI èƒ½åŠ›
2. âœ… ä¼˜åŒ–æ¨¡å‹æ€§èƒ½
3. âœ… å¤„ç†å®é™…åœºæ™¯
4. âœ… å®Œæˆä¸­ç­‰é¡¹ç›®

### é«˜çº§ï¼ˆ5-8å‘¨ï¼‰

1. âœ… è‡ªå®šä¹‰æ¨¡å‹è®­ç»ƒ
2. âœ… æ¨¡å‹è½¬æ¢å’Œéƒ¨ç½²
3. âœ… å¤æ‚åœºæ™¯ä¼˜åŒ–
4. âœ… å®Œæˆäº§å“çº§åº”ç”¨

## ğŸ“š å‚è€ƒèµ„æº

- [AIèƒ½åŠ›æ¦‚è¿°](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ai-overview-0000001820880597-V5)
- [MindSpore Liteæ¨ç†](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/mindspore-lite-guidelines-0000001774121034-V5)
- [MindSporeå®˜ç½‘](https://www.mindspore.cn/lite)

---

**ä¸‹ä¸€èŠ‚** â†’ [AI Engine API](02-AI-Engine-API.md)

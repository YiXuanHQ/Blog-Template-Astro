---
title: Gitå®æˆ˜åœºæ™¯
prevChapter: "development-tools/git/2.Gitè¿›é˜¶æŠ€å·§"
parentChapter: "development-tools/git/README"
---
# Gitå®æˆ˜åœºæ™¯

## ä¸€ã€æ—¥å¸¸å¼€å‘åœºæ™¯

### 1.1 å¼€å§‹æ–°çš„ä¸€å¤©å·¥ä½œ

```bash
# 1. åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯
git checkout master

# 2. æ‹‰å–æœ€æ–°ä»£ç 
git pull origin master

# 3. åˆ›å»ºä»Šå¤©çš„å·¥ä½œåˆ†æ”¯
git checkout -b feature/user-dashboard

# 4. å¼€å§‹ç¼–ç 
# ... å¼€å‘ ...
```

### 1.2 ä¸´æ—¶åˆ‡æ¢ä»»åŠ¡

**åœºæ™¯ï¼š**æ­£åœ¨å¼€å‘åŠŸèƒ½Aï¼Œçªç„¶éœ€è¦ç´§æ€¥ä¿®å¤bugã€‚

```bash
# 1. æš‚å­˜å½“å‰å·¥ä½œ
git stash save "åŠŸèƒ½Aå¼€å‘åˆ°ä¸€åŠ"

# 2. åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯
git checkout master

# 3. åˆ›å»ºä¿®å¤åˆ†æ”¯
git checkout -b hotfix/critical-bug

# 4. ä¿®å¤bug
# ... ä¿®å¤ä»£ç  ...
git add .
git commit -m "fix: ä¿®å¤å…³é”®bug"

# 5. åˆå¹¶åˆ°ä¸»åˆ†æ”¯
git checkout master
git merge hotfix/critical-bug
git push origin master

# 6. å›åˆ°åŸæ¥çš„å·¥ä½œ
git checkout feature/user-dashboard
git stash pop
```

### 1.3 å¤šäººåä½œå¼€å‘åŒä¸€åŠŸèƒ½

**åœºæ™¯ï¼š**ä¸¤ä¸ªäººåŒæ—¶å¼€å‘ä¸€ä¸ªå¤§åŠŸèƒ½çš„ä¸åŒéƒ¨åˆ†ã€‚

```bash
# å¼€å‘è€…A
git checkout -b feature/payment-system
# ... å¼€å‘æ”¯ä»˜æ¨¡å— ...
git add .
git commit -m "feat: å®ç°æ”¯ä»˜æ ¸å¿ƒé€»è¾‘"
git push origin feature/payment-system

# å¼€å‘è€…B
git checkout feature/payment-system
git pull origin feature/payment-system
# ... å¼€å‘æ”¯ä»˜UI ...
git add .
git commit -m "feat: å®ç°æ”¯ä»˜ç•Œé¢"
git push origin feature/payment-system

# å®šæœŸåŒæ­¥ä¸»åˆ†æ”¯
git checkout master
git pull origin master
git checkout feature/payment-system
git merge master
# è§£å†³å†²çªï¼ˆå¦‚æœæœ‰ï¼‰
git push origin feature/payment-system
```

### 1.4 ä»£ç å®¡æŸ¥æµç¨‹

```bash
# 1. æ¨é€åŠŸèƒ½åˆ†æ”¯
git push -u origin feature/new-feature

# 2. åœ¨GitHub/GitLabåˆ›å»ºPull Request

# 3. å®¡æŸ¥è€…æå‡ºä¿®æ”¹æ„è§å
git checkout feature/new-feature
# ... ä¿®æ”¹ä»£ç  ...
git add .
git commit -m "refactor: æ ¹æ®å®¡æŸ¥æ„è§ä¼˜åŒ–ä»£ç "
git push origin feature/new-feature

# 4. å®¡æŸ¥é€šè¿‡ï¼Œåˆå¹¶åˆ°ä¸»åˆ†æ”¯
# åœ¨Webç•Œé¢ç‚¹å‡»MergeæŒ‰é’®

# 5. æœ¬åœ°åŒæ­¥å¹¶åˆ é™¤åˆ†æ”¯
git checkout master
git pull origin master
git branch -d feature/new-feature
git push origin --delete feature/new-feature
```

---

## äºŒã€ç‰ˆæœ¬å‘å¸ƒåœºæ™¯

### 2.1 å‡†å¤‡å‘å¸ƒæ–°ç‰ˆæœ¬

```bash
# 1. ä»developåˆ†æ”¯åˆ›å»ºå‘å¸ƒåˆ†æ”¯
git checkout develop
git pull origin develop
git checkout -b release/v1.2.0

# 2. æ›´æ–°ç‰ˆæœ¬å·
# ç¼–è¾‘package.jsonã€version.txtç­‰æ–‡ä»¶
git add .
git commit -m "chore: æ›´æ–°ç‰ˆæœ¬å·ä¸º1.2.0"

# 3. ä¿®å¤å‘ç°çš„å°bug
git add .
git commit -m "fix: ä¿®å¤å‘å¸ƒå‰å‘ç°çš„bug"

# 4. åˆå¹¶åˆ°masterå¹¶æ‰“æ ‡ç­¾
git checkout master
git merge release/v1.2.0
git tag -a v1.2.0 -m "ç‰ˆæœ¬1.2.0å‘å¸ƒ"
git push origin master --tags

# 5. åˆå¹¶å›develop
git checkout develop
git merge release/v1.2.0
git push origin develop

# 6. åˆ é™¤å‘å¸ƒåˆ†æ”¯
git branch -d release/v1.2.0
git push origin --delete release/v1.2.0
```

### 2.2 å›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬

```bash
# æ–¹å¼ä¸€ï¼šä½¿ç”¨revertï¼ˆæ¨èï¼Œä¿ç•™å†å²ï¼‰
git revert <commit-id>
git push origin master

# æ–¹å¼äºŒï¼šä½¿ç”¨resetï¼ˆå±é™©ï¼Œé‡å†™å†å²ï¼‰
git reset --hard v1.1.0
git push -f origin master

# æ–¹å¼ä¸‰ï¼šåˆ›å»ºå›æ»šåˆ†æ”¯
git checkout -b rollback/v1.1.0 v1.1.0
git push origin rollback/v1.1.0
# ç„¶åéƒ¨ç½²è¿™ä¸ªåˆ†æ”¯
```

### 2.3 çƒ­ä¿®å¤ç”Ÿäº§ç¯å¢ƒbug

```bash
# 1. ä»masteråˆ›å»ºçƒ­ä¿®å¤åˆ†æ”¯
git checkout master
git pull origin master
git checkout -b hotfix/v1.2.1

# 2. ä¿®å¤bug
# ... ä¿®æ”¹ä»£ç  ...
git add .
git commit -m "fix: ä¿®å¤ç”Ÿäº§ç¯å¢ƒå…³é”®bug"

# 3. æµ‹è¯•ä¿®å¤

# 4. åˆå¹¶åˆ°master
git checkout master
git merge hotfix/v1.2.1
git tag -a v1.2.1 -m "çƒ­ä¿®å¤ç‰ˆæœ¬1.2.1"
git push origin master --tags

# 5. åˆå¹¶åˆ°develop
git checkout develop
git merge hotfix/v1.2.1
git push origin develop

# 6. åˆ é™¤çƒ­ä¿®å¤åˆ†æ”¯
git branch -d hotfix/v1.2.1
```

---

## ä¸‰ã€å†²çªè§£å†³åœºæ™¯

### 3.1 åˆå¹¶å†²çª

**åœºæ™¯ï¼š**åˆå¹¶åˆ†æ”¯æ—¶å‡ºç°å†²çªã€‚

```bash
# 1. å°è¯•åˆå¹¶
git checkout master
git merge feature-branch
# Auto-merging file.txt
# CONFLICT (content): Merge conflict in file.txt

# 2. æŸ¥çœ‹å†²çªæ–‡ä»¶
git status
# Unmerged paths:
#   both modified:   file.txt

# 3. æ‰“å¼€å†²çªæ–‡ä»¶
<<<<<<< HEAD
è¿™æ˜¯masteråˆ†æ”¯çš„å†…å®¹
=======
è¿™æ˜¯featureåˆ†æ”¯çš„å†…å®¹
>>>>>>> feature-branch

# 4. æ‰‹åŠ¨è§£å†³å†²çªï¼Œä¿ç•™éœ€è¦çš„å†…å®¹
è¿™æ˜¯åˆå¹¶åçš„æœ€ç»ˆå†…å®¹

# 5. æ ‡è®°ä¸ºå·²è§£å†³
git add file.txt

# 6. å®Œæˆåˆå¹¶
git commit -m "merge: åˆå¹¶feature-branchï¼Œè§£å†³å†²çª"
```

### 3.2 Rebaseå†²çª

```bash
# 1. å¼€å§‹rebase
git checkout feature
git rebase master
# CONFLICT (content): Merge conflict in file.txt

# 2. è§£å†³å†²çª
# ç¼–è¾‘å†²çªæ–‡ä»¶

# 3. æ·»åŠ å·²è§£å†³çš„æ–‡ä»¶
git add file.txt

# 4. ç»§ç»­rebase
git rebase --continue

# å¦‚æœæƒ³æ”¾å¼ƒrebase
git rebase --abort
```

### 3.3 Pullå†²çª

```bash
# 1. æ‹‰å–æ—¶å‡ºç°å†²çª
git pull origin master
# CONFLICT (content): Merge conflict in file.txt

# 2. è§£å†³å†²çª
# ç¼–è¾‘å†²çªæ–‡ä»¶

# 3. æ·»åŠ å¹¶æäº¤
git add file.txt
git commit -m "resolve: è§£å†³pullå†²çª"

# 4. æ¨é€
git push origin master
```

### 3.4 ä½¿ç”¨å·¥å…·è§£å†³å†²çª

```bash
# é…ç½®åˆå¹¶å·¥å…·ï¼ˆVS Codeï¼‰
git config --global merge.tool vscode
git config --global mergetool.vscode.cmd "code --wait $MERGED"

# ä½¿ç”¨å·¥å…·è§£å†³å†²çª
git mergetool

# å®Œæˆåæäº¤
git commit
```

---

## å››ã€é”™è¯¯æ¢å¤åœºæ™¯

### 4.1 æ’¤é”€æœªæäº¤çš„ä¿®æ”¹

```bash
# æ’¤é”€å·¥ä½œåŒºçš„ä¿®æ”¹ï¼ˆæœªaddï¼‰
git checkout -- file.txt

# æ’¤é”€æ‰€æœ‰å·¥ä½œåŒºä¿®æ”¹
git checkout .

# æ’¤é”€æš‚å­˜åŒºçš„ä¿®æ”¹ï¼ˆå·²addæœªcommitï¼‰
git reset HEAD file.txt

# æ’¤é”€æ‰€æœ‰æš‚å­˜åŒºä¿®æ”¹
git reset HEAD .
```

### 4.2 ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤

```bash
# ä¿®æ”¹æäº¤ä¿¡æ¯
git commit --amend -m "æ–°çš„æäº¤ä¿¡æ¯"

# æ·»åŠ é—æ¼çš„æ–‡ä»¶
git add forgotten-file.txt
git commit --amend --no-edit

# ä¿®æ”¹æäº¤å†…å®¹
# ç¼–è¾‘æ–‡ä»¶
git add .
git commit --amend
```

### 4.3 æ’¤é”€å·²æäº¤ä½†æœªæ¨é€çš„æäº¤

```bash
# æ–¹å¼ä¸€ï¼šä¿ç•™ä¿®æ”¹
git reset --soft HEAD^

# æ–¹å¼äºŒï¼šä¸ä¿ç•™ä¿®æ”¹
git reset --hard HEAD^

# æ’¤é”€å¤šä¸ªæäº¤
git reset --hard HEAD~3
```

### 4.4 æ’¤é”€å·²æ¨é€çš„æäº¤

```bash
# æ–¹å¼ä¸€ï¼šä½¿ç”¨revertï¼ˆæ¨èï¼‰
git revert <commit-id>
git push origin master

# æ–¹å¼äºŒï¼šä½¿ç”¨resetï¼ˆéœ€è¦force pushï¼‰
git reset --hard <commit-id>
git push -f origin master
```

### 4.5 æ¢å¤åˆ é™¤çš„æ–‡ä»¶

```bash
# æ¢å¤å·¥ä½œåŒºåˆ é™¤çš„æ–‡ä»¶
git checkout -- deleted-file.txt

# æ¢å¤å·²æäº¤åˆ é™¤çš„æ–‡ä»¶
git checkout <commit-id> -- deleted-file.txt

# æŸ¥æ‰¾æ–‡ä»¶è¢«åˆ é™¤çš„æäº¤
git log --all --full-history -- deleted-file.txt
```

### 4.6 æ¢å¤åˆ é™¤çš„åˆ†æ”¯

```bash
# 1. æŸ¥æ‰¾åˆ†æ”¯æœ€åçš„æäº¤
git reflog
# æ‰¾åˆ°ç±»ä¼¼è¿™æ ·çš„è®°å½•ï¼š
# abc1234 HEAD@{2}: commit: æœ€åä¸€æ¬¡æäº¤

# 2. æ¢å¤åˆ†æ”¯
git checkout -b recovered-branch abc1234
```

### 4.7 æ¢å¤åˆ é™¤çš„æäº¤

```bash
# 1. æŸ¥çœ‹reflog
git reflog

# 2. æ‰¾åˆ°è¦æ¢å¤çš„æäº¤ID
# abc1234 HEAD@{5}: commit: è¢«åˆ é™¤çš„æäº¤

# 3. æ¢å¤æäº¤
git cherry-pick abc1234

# æˆ–è€…é‡ç½®åˆ°è¯¥æäº¤
git reset --hard abc1234
```

---

## äº”ã€å¤§å‹é¡¹ç›®ç®¡ç†åœºæ™¯

### 5.1 ç®¡ç†å¤§å‹ä»“åº“

```bash
# 1. ä½¿ç”¨æµ…å…‹éš†
git clone --depth 1 https://github.com/large/project.git

# 2. åªå…‹éš†å•ä¸ªåˆ†æ”¯
git clone --single-branch --branch master https://github.com/large/project.git

# 3. ä½¿ç”¨ç¨€ç–æ£€å‡º
git clone --filter=blob:none --sparse https://github.com/large/project.git
cd project
git sparse-checkout init --cone
git sparse-checkout set src/main

# 4. å®šæœŸæ¸…ç†
git gc --aggressive
git prune
```

### 5.2 å¤„ç†å¤§æ–‡ä»¶

```bash
# 1. å®‰è£…Git LFS
git lfs install

# 2. è·Ÿè¸ªå¤§æ–‡ä»¶ç±»å‹
git lfs track "*.psd"
git lfs track "*.mp4"
git lfs track "*.zip"

# 3. æäº¤.gitattributes
git add .gitattributes
git commit -m "chore: é…ç½®Git LFS"

# 4. æ­£å¸¸æäº¤å¤§æ–‡ä»¶
git add large-file.psd
git commit -m "add: æ·»åŠ è®¾è®¡æ–‡ä»¶"
git push
```

### 5.3 æ‹†åˆ†å¤§å‹æäº¤

```bash
# 1. é‡ç½®åˆ°ä¸Šä¸€ä¸ªæäº¤ï¼Œä¿ç•™ä¿®æ”¹
git reset --soft HEAD^

# 2. åˆ†æ‰¹æ·»åŠ æ–‡ä»¶
git add file1.txt file2.txt
git commit -m "feat: å®ç°åŠŸèƒ½A"

git add file3.txt file4.txt
git commit -m "feat: å®ç°åŠŸèƒ½B"

# 3. æ¨é€
git push
```

### 5.4 æ¸…ç†å†å²ä¸­çš„å¤§æ–‡ä»¶

```bash
# ä½¿ç”¨BFG Repo-Cleaner
java -jar bfg.jar --strip-blobs-bigger-than 50M repo.git

# æˆ–ä½¿ç”¨filter-branch
git filter-branch --tree-filter 'rm -f large-file.zip' HEAD

# æ¸…ç†
git reflog expire --expire=now --all
git gc --prune=now --aggressive
```

---

## å…­ã€å¤šä»“åº“ç®¡ç†åœºæ™¯

### 6.1 ä½¿ç”¨å­æ¨¡å—

```bash
# 1. æ·»åŠ å­æ¨¡å—
git submodule add https://github.com/user/library.git libs/library

# 2. å…‹éš†åŒ…å«å­æ¨¡å—çš„é¡¹ç›®
git clone --recursive https://github.com/user/project.git

# 3. æ›´æ–°å­æ¨¡å—
git submodule update --remote

# 4. åœ¨å­æ¨¡å—ä¸­å·¥ä½œ
cd libs/library
git checkout master
# ... ä¿®æ”¹ä»£ç  ...
git add .
git commit -m "update library"
git push

# 5. æ›´æ–°ä¸»é¡¹ç›®
cd ../..
git add libs/library
git commit -m "chore: æ›´æ–°libraryå­æ¨¡å—"
git push
```

### 6.2 ä½¿ç”¨Git Subtree

```bash
# 1. æ·»åŠ subtree
git subtree add --prefix=libs/library https://github.com/user/library.git master --squash

# 2. æ‹‰å–subtreeæ›´æ–°
git subtree pull --prefix=libs/library https://github.com/user/library.git master --squash

# 3. æ¨é€subtreeä¿®æ”¹
git subtree push --prefix=libs/library https://github.com/user/library.git master
```

### 6.3 Monorepoç®¡ç†

```bash
# é¡¹ç›®ç»“æ„
monorepo/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ app1/
â”‚   â”œâ”€â”€ app2/
â”‚   â””â”€â”€ shared/
â””â”€â”€ .git/

# åªæ„å»ºä¿®æ”¹çš„åŒ…
git diff --name-only HEAD~1 | grep "packages/app1" && npm run build:app1

# ä½¿ç”¨å·¥å…·ï¼ˆå¦‚Lernaï¼‰
npx lerna init
npx lerna bootstrap
npx lerna publish
```

---

## ä¸ƒã€CI/CDé›†æˆåœºæ™¯

### 7.1 GitHub Actionsç¤ºä¾‹

```yaml
# .github/workflows/ci.yml
name: CI

on:
  push:
    branches: [ master, develop ]
  pull_request:
    branches: [ master ]

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v2
    
    - name: Setup Node.js
      uses: actions/setup-node@v2
      with:
        node-version: '16'
    
    - name: Install dependencies
      run: npm ci
    
    - name: Run tests
      run: npm test
    
    - name: Build
      run: npm run build
    
    - name: Deploy
      if: github.ref == 'refs/heads/master'
      run: npm run deploy
```

### 7.2 è‡ªåŠ¨åŒ–ç‰ˆæœ¬å‘å¸ƒ

```bash
# ä½¿ç”¨semantic-release
npm install --save-dev semantic-release

# .releaserc.json
{
  "branches": ["master"],
  "plugins": [
    "@semantic-release/commit-analyzer",
    "@semantic-release/release-notes-generator",
    "@semantic-release/changelog",
    "@semantic-release/npm",
    "@semantic-release/git"
  ]
}

# æäº¤æ ¼å¼è§¦å‘è‡ªåŠ¨å‘å¸ƒ
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"  # è§¦å‘minorç‰ˆæœ¬
git commit -m "fix: ä¿®å¤bug"      # è§¦å‘patchç‰ˆæœ¬
git commit -m "feat!: ç ´åæ€§æ›´æ–°" # è§¦å‘majorç‰ˆæœ¬
```

### 7.3 è‡ªåŠ¨åŒ–æµ‹è¯•

```bash
# pre-commit hook
#!/bin/sh
npm run lint
npm run test

if [ $? -ne 0 ]; then
    echo "æµ‹è¯•å¤±è´¥ï¼Œè¯·ä¿®å¤åå†æäº¤"
    exit 1
fi
```

---

## å…«ã€å®‰å…¨å’Œæƒé™åœºæ™¯

### 8.1 ä¿æŠ¤æ•æ„Ÿä¿¡æ¯

```bash
# 1. åˆ›å»º.envæ–‡ä»¶å­˜å‚¨æ•æ„Ÿä¿¡æ¯
DATABASE_PASSWORD=secret123
API_KEY=abc123xyz

# 2. æ·»åŠ åˆ°.gitignore
echo ".env" >> .gitignore

# 3. åˆ›å»º.env.exampleä½œä¸ºæ¨¡æ¿
DATABASE_PASSWORD=your_password_here
API_KEY=your_api_key_here

# 4. æäº¤
git add .gitignore .env.example
git commit -m "chore: æ·»åŠ ç¯å¢ƒå˜é‡é…ç½®"
```

### 8.2 ä»å†å²ä¸­åˆ é™¤æ•æ„Ÿä¿¡æ¯

```bash
# ä½¿ç”¨BFG
java -jar bfg.jar --delete-files passwords.txt repo.git
cd repo.git
git reflog expire --expire=now --all
git gc --prune=now --aggressive

# ä½¿ç”¨filter-branch
git filter-branch --force --index-filter \
  "git rm --cached --ignore-unmatch config/secrets.yml" \
  --prune-empty --tag-name-filter cat -- --all

# å¼ºåˆ¶æ¨é€
git push origin --force --all
git push origin --force --tags
```

### 8.3 ç­¾åæäº¤

```bash
# 1. ç”ŸæˆGPGå¯†é’¥
gpg --full-generate-key

# 2. æŸ¥çœ‹å¯†é’¥ID
gpg --list-secret-keys --keyid-format LONG

# 3. é…ç½®Git
git config --global user.signingkey <key-id>
git config --global commit.gpgsign true

# 4. å¯¼å‡ºå…¬é’¥æ·»åŠ åˆ°GitHub
gpg --armor --export <key-id>

# 5. ç­¾åæäº¤
git commit -S -m "ç­¾åæäº¤"
```

---

## ä¹ã€æ€§èƒ½ä¼˜åŒ–åœºæ™¯

### 9.1 åŠ é€Ÿå…‹éš†

```bash
# æµ…å…‹éš†
git clone --depth 1 https://github.com/large/repo.git

# å•åˆ†æ”¯å…‹éš†
git clone --single-branch --branch master https://github.com/large/repo.git

# ä½¿ç”¨é•œåƒ
git clone https://gitee.com/mirrors/repo.git
```

### 9.2 ä¼˜åŒ–ä»“åº“å¤§å°

```bash
# 1. æŸ¥çœ‹ä»“åº“å¤§å°
git count-objects -vH

# 2. æ‰¾å‡ºå¤§æ–‡ä»¶
git rev-list --objects --all | \
  git cat-file --batch-check='%(objecttype) %(objectname) %(objectsize) %(rest)' | \
  sed -n 's/^blob //p' | \
  sort --numeric-sort --key=2 | \
  tail -n 10

# 3. æ¸…ç†å¤§æ–‡ä»¶
git filter-branch --tree-filter 'rm -f large-file.zip' HEAD

# 4. æ¸…ç†å’Œä¼˜åŒ–
git reflog expire --expire=now --all
git gc --prune=now --aggressive
```

### 9.3 åŠ é€Ÿæ—¥å¸¸æ“ä½œ

```bash
# å¯ç”¨æ–‡ä»¶ç³»ç»Ÿç›‘æ§
git config --global core.fsmonitor true

# å¯ç”¨å¹¶è¡Œå¤„ç†
git config --global submodule.fetchJobs 8

# ä½¿ç”¨å¢é‡repack
git config --global repack.useDeltaBaseOffset true

# å¯ç”¨commit graph
git config --global core.commitGraph true
git commit-graph write --reachable
```

---

## åã€æ•…éšœæ’æŸ¥åœºæ™¯

### 10.1 æ‰¾å‡ºå¼•å…¥bugçš„æäº¤

```bash
# ä½¿ç”¨git bisect
git bisect start
git bisect bad                    # å½“å‰ç‰ˆæœ¬æœ‰bug
git bisect good v1.0.0           # v1.0.0ç‰ˆæœ¬æ­£å¸¸

# Gitä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°ä¸­é—´ç‰ˆæœ¬
# æµ‹è¯•åæ ‡è®°
git bisect good  # æˆ– git bisect bad

# é‡å¤ç›´åˆ°æ‰¾åˆ°é—®é¢˜æäº¤
# æ‰¾åˆ°å
git bisect reset
```

### 10.2 æŸ¥æ‰¾ä¸¢å¤±çš„æäº¤

```bash
# æŸ¥çœ‹reflog
git reflog

# æ¢å¤ä¸¢å¤±çš„æäº¤
git checkout -b recovery <commit-id>

# æˆ–cherry-pick
git cherry-pick <commit-id>
```

### 10.3 ä¿®å¤æŸåçš„ä»“åº“

```bash
# æ£€æŸ¥ä»“åº“å®Œæ•´æ€§
git fsck --full

# æ¢å¤æŸåçš„å¯¹è±¡
git reflog expire --expire=now --all
git gc --prune=now

# ä»è¿œç¨‹é‡æ–°å…‹éš†
git clone https://github.com/user/repo.git repo-backup
```

### 10.4 è§£å†³æ¨é€è¢«æ‹’ç»

```bash
# åœºæ™¯ï¼šæ¨é€æ—¶æç¤º"Updates were rejected"

# æ–¹å¼ä¸€ï¼šæ‹‰å–åæ¨é€
git pull --rebase origin master
git push origin master

# æ–¹å¼äºŒï¼šå¼ºåˆ¶æ¨é€ï¼ˆæ…ç”¨ï¼‰
git push -f origin master

# æ–¹å¼ä¸‰ï¼šåˆ›å»ºæ–°åˆ†æ”¯
git push origin HEAD:new-branch
```

---

## åä¸€ã€å›¢é˜Ÿåä½œæœ€ä½³å®è·µ

### 11.1 ä»£ç å®¡æŸ¥æ¸…å•

**æäº¤å‰æ£€æŸ¥ï¼š**
- [ ] ä»£ç æ˜¯å¦é€šè¿‡æ‰€æœ‰æµ‹è¯•
- [ ] æ˜¯å¦éµå¾ªä»£ç è§„èŒƒ
- [ ] æ˜¯å¦æ·»åŠ äº†å¿…è¦çš„æ³¨é‡Š
- [ ] æ˜¯å¦æ›´æ–°äº†æ–‡æ¡£
- [ ] æäº¤ä¿¡æ¯æ˜¯å¦æ¸…æ™°

**å®¡æŸ¥æ—¶æ£€æŸ¥ï¼š**
- [ ] ä»£ç é€»è¾‘æ˜¯å¦æ­£ç¡®
- [ ] æ˜¯å¦æœ‰æ½œåœ¨çš„æ€§èƒ½é—®é¢˜
- [ ] æ˜¯å¦æœ‰å®‰å…¨éšæ‚£
- [ ] æ˜¯å¦å¯ä»¥ç®€åŒ–
- [ ] æµ‹è¯•è¦†ç›–æ˜¯å¦å……åˆ†

### 11.2 åˆ†æ”¯å‘½åè§„èŒƒ

```bash
# åŠŸèƒ½åˆ†æ”¯
feature/user-authentication
feature/payment-integration

# ä¿®å¤åˆ†æ”¯
fix/login-error
fix/memory-leak

# çƒ­ä¿®å¤åˆ†æ”¯
hotfix/critical-security-issue

# å‘å¸ƒåˆ†æ”¯
release/v1.2.0

# æ–‡æ¡£åˆ†æ”¯
docs/api-documentation
```

### 11.3 æäº¤ä¿¡æ¯è§„èŒƒ

```bash
# æ ¼å¼
<type>(<scope>): <subject>

<body>

<footer>

# ç¤ºä¾‹
feat(auth): æ·»åŠ JWTè®¤è¯åŠŸèƒ½

å®ç°äº†åŸºäºJWTçš„ç”¨æˆ·è®¤è¯ç³»ç»Ÿï¼ŒåŒ…æ‹¬ï¼š
- ç”¨æˆ·ç™»å½•æ¥å£
- TokenéªŒè¯ä¸­é—´ä»¶
- Tokenåˆ·æ–°æœºåˆ¶

Closes #123
```

**ç±»å‹è¯´æ˜ï¼š**
- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼
- `refactor`: é‡æ„
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»º/å·¥å…·

---

## åäºŒã€å®ç”¨æŠ€å·§æ±‡æ€»

### 12.1 å¿«æ·å‘½ä»¤

```bash
# å¿«é€Ÿæäº¤
git commit -am "å¿«é€Ÿæäº¤"

# å¿«é€Ÿæ¨é€
git push

# å¿«é€Ÿæ‹‰å–
git pull --rebase

# æŸ¥çœ‹ç®€æ´æ—¥å¿—
git log --oneline --graph --all

# æŸ¥çœ‹æ–‡ä»¶ä¿®æ”¹
git diff HEAD

# æŸ¥çœ‹æš‚å­˜åŒº
git diff --cached
```

### 12.2 åˆ«åé…ç½®

```bash
# æ·»åŠ åˆ°~/.gitconfig
[alias]
    st = status
    co = checkout
    br = branch
    ci = commit
    unstage = reset HEAD --
    last = log -1 HEAD
    visual = log --graph --oneline --all
    amend = commit --amend --no-edit
    undo = reset --soft HEAD^
    save = stash save
    load = stash pop
```

### 12.3 å·¥ä½œæµæ¨¡æ¿

```bash
# æ¯æ—¥å·¥ä½œæµ
git checkout master
git pull origin master
git checkout -b feature/today-work
# ... å¼€å‘ ...
git add .
git commit -m "feat: å®Œæˆä»Šæ—¥å·¥ä½œ"
git push origin feature/today-work
# åˆ›å»ºPR

# æ¯å‘¨åŒæ­¥
git checkout master
git pull origin master
git checkout develop
git merge master
git push origin develop
```

---

## æ€»ç»“

é€šè¿‡è¿™äº›å®æˆ˜åœºæ™¯ï¼Œä½ åº”è¯¥èƒ½å¤Ÿï¼š
- âœ… å¤„ç†æ—¥å¸¸å¼€å‘ä¸­çš„å„ç§æƒ…å†µ
- âœ… è§£å†³å¸¸è§çš„Gité—®é¢˜
- âœ… ä¼˜åŒ–å›¢é˜Ÿåä½œæµç¨‹
- âœ… æé«˜å¼€å‘æ•ˆç‡

**è®°ä½ï¼š**
1. é¢‘ç¹æäº¤ï¼Œå°æ­¥å¿«è·‘
2. å†™æ¸…æ™°çš„æäº¤ä¿¡æ¯
3. å®šæœŸåŒæ­¥è¿œç¨‹ä»“åº“
4. é‡åˆ°é—®é¢˜å…ˆæŸ¥reflog
5. é‡è¦æ“ä½œå‰å…ˆå¤‡ä»½

**æŒç»­å®è·µï¼Œä¸æ–­æ€»ç»“ï¼Œä½ ä¼šè¶Šæ¥è¶Šç†Ÿç»ƒï¼** ğŸ¯

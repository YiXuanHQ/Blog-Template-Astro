---
title: å‘½åå®ä½“è¯†åˆ«
prevChapter: "python-ai/nlp/06-æƒ…æ„Ÿåˆ†æ"
nextChapter: "python-ai/nlp/08-æ–‡æœ¬ç›¸ä¼¼åº¦"
parentChapter: "python-ai/nlp/README"
---
# å‘½åå®ä½“è¯†åˆ«

> æŒæ¡å‘½åå®ä½“è¯†åˆ«æŠ€æœ¯

## ğŸ“š å­¦ä¹ ç›®æ ‡

- ç†è§£NERä»»åŠ¡
- æŒæ¡è§„åˆ™æ–¹æ³•
- å­¦ä¼šä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹
- äº†è§£å®ä½“æŠ½å–åº”ç”¨

## 1. ä½¿ç”¨ spaCy

```python
import spacy

# åŠ è½½ä¸­æ–‡æ¨¡å‹
nlp = spacy.load("zh_core_web_sm")

text = "è‹¹æœå…¬å¸çš„CEOåº“å…‹è®¿é—®äº†ä¸­å›½åŒ—äº¬"
doc = nlp(text)

# æå–å®ä½“
for ent in doc.ents:
    print(f"{ent.text}\t{ent.label_}")

# è¾“å‡º:
# è‹¹æœå…¬å¸    ORG
# åº“å…‹        PERSON
# ä¸­å›½        GPE
# åŒ—äº¬        GPE
```

## 2. ä½¿ç”¨ HanLP

```python
import hanlp

# åŠ è½½æ¨¡å‹
ner = hanlp.load(hanlp.pretrained.ner.MSRA_NER_BERT_BASE_ZH)

text = "2020å¹´1æœˆ1æ—¥ï¼Œå¼ ä¸‰åœ¨åŒ—äº¬å¤§å­¦è¯»ä¹¦"
result = ner(list(text))

print(result)
# [('2020å¹´1æœˆ1æ—¥', 'TIME'), ('å¼ ä¸‰', 'PERSON'), ('åŒ—äº¬å¤§å­¦', 'ORG')]
```

## 3. è§„åˆ™æ–¹æ³•

```python
import re

def extract_entities(text):
    # æå–æ—¥æœŸ
    dates = re.findall(r'\d{4}å¹´\d{1,2}æœˆ\d{1,2}æ—¥', text)
    
    # æå–é‡‘é¢
    money = re.findall(r'\d+(\.\d+)?å…ƒ', text)
    
    # æå–é‚®ç®±
    emails = re.findall(r'\S+@\S+', text)
    
    # æå–ç”µè¯
    phones = re.findall(r'1[3-9]\d{9}', text)
    
    return {
        'dates': dates,
        'money': money,
        'emails': emails,
        'phones': phones
    }

text = "2024å¹´1æœˆ1æ—¥ï¼Œä»·æ ¼ä¸º100å…ƒï¼Œè”ç³»æ–¹å¼ï¼štest@example.com"
entities = extract_entities(text)
print(entities)
```

## 4. å®ä½“å…³ç³»æŠ½å–

```python
# ä½¿ç”¨æ¨¡å¼åŒ¹é…
import spacy
from spacy.matcher import Matcher

nlp = spacy.load("zh_core_web_sm")
matcher = Matcher(nlp.vocab)

# å®šä¹‰æ¨¡å¼: äººå + æ˜¯ + ç»„ç»‡ + çš„ + èŒä½
pattern = [
    {"POS": "PROPN"},  # äººå
    {"ORTH": "æ˜¯"},
    {"POS": "PROPN"},  # ç»„ç»‡
    {"ORTH": "çš„"},
    {"POS": "NOUN"}    # èŒä½
]
matcher.add("POSITION", [pattern])

text = "å¼ ä¸‰æ˜¯é˜¿é‡Œå·´å·´çš„å·¥ç¨‹å¸ˆ"
doc = nlp(text)
matches = matcher(doc)

for match_id, start, end in matches:
    span = doc[start:end]
    print(f"åŒ¹é…: {span.text}")
```

---

**ä¸‹ä¸€èŠ‚ï¼š** [æ–‡æœ¬ç›¸ä¼¼åº¦](08-æ–‡æœ¬ç›¸ä¼¼åº¦.md)

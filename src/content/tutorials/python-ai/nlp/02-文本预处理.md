---
title: æ–‡æœ¬é¢„å¤„ç†
prevChapter: "python-ai/nlp/01-NLPå…¥é—¨"
nextChapter: "python-ai/nlp/03-ä¸­æ–‡åˆ†è¯"
parentChapter: "python-ai/nlp/README"
---
# æ–‡æœ¬é¢„å¤„ç†

> æŒæ¡æ–‡æœ¬æ¸…æ´—å’Œæ ‡å‡†åŒ–æŠ€æœ¯

## ğŸ“š å­¦ä¹ ç›®æ ‡

- æŒæ¡æ–‡æœ¬æ¸…æ´—æ–¹æ³•
- å­¦ä¼šå»é™¤åœç”¨è¯
- ç†è§£è¯å¹²æå–å’Œè¯å½¢è¿˜åŸ
- æŒæ¡æ–‡æœ¬æ ‡å‡†åŒ–

## 1. æ–‡æœ¬æ¸…æ´—

```python
import re

def clean_text(text):
    # è½¬å°å†™
    text = text.lower()
    
    # å»é™¤URL
    text = re.sub(r'http\S+|www.\S+', '', text)
    
    # å»é™¤HTMLæ ‡ç­¾
    text = re.sub(r'<.*?>', '', text)
    
    # å»é™¤é‚®ç®±
    text = re.sub(r'\S+@\S+', '', text)
    
    # å»é™¤ç‰¹æ®Šå­—ç¬¦ï¼ˆä¿ç•™ä¸­è‹±æ–‡å’Œæ•°å­—ï¼‰
    text = re.sub(r'[^\w\s\u4e00-\u9fff]', '', text)
    
    # å»é™¤å¤šä½™ç©ºæ ¼
    text = ' '.join(text.split())
    
    return text

# ç¤ºä¾‹
text = "è®¿é—® https://example.com æŸ¥çœ‹è¯¦æƒ…ï¼ï¼ï¼"
print(clean_text(text))
```

## 2. å»é™¤åœç”¨è¯

```python
import jieba

# ä¸­æ–‡åœç”¨è¯
def load_stopwords(file_path='stopwords.txt'):
    with open(file_path, 'r', encoding='utf-8') as f:
        return set([line.strip() for line in f])

def remove_stopwords(text, stopwords):
    words = jieba.cut(text)
    return [w for w in words if w not in stopwords and len(w) > 1]

# è‹±æ–‡åœç”¨è¯
from nltk.corpus import stopwords

stop_words = set(stopwords.words('english'))
text = "This is a sample sentence"
words = [w for w in text.split() if w.lower() not in stop_words]
```

## 3. è¯å¹²æå–å’Œè¯å½¢è¿˜åŸ

```python
from nltk.stem import PorterStemmer, WordNetLemmatizer

# è¯å¹²æå–
stemmer = PorterStemmer()
words = ["running", "runs", "ran", "runner"]
stems = [stemmer.stem(w) for w in words]
print(stems)  # ['run', 'run', 'ran', 'runner']

# è¯å½¢è¿˜åŸ
lemmatizer = WordNetLemmatizer()
lemmas = [lemmatizer.lemmatize(w, pos='v') for w in words]
print(lemmas)  # ['run', 'run', 'run', 'runner']
```

## 4. æ–‡æœ¬æ ‡å‡†åŒ–

```python
# ç¹ç®€è½¬æ¢
from opencc import OpenCC

cc = OpenCC('t2s')  # ç¹ä½“è½¬ç®€ä½“
text = "ç¹é«”ä¸­æ–‡"
print(cc.convert(text))  # ç®€ä½“ä¸­æ–‡

# å…¨è§’åŠè§’è½¬æ¢
def strQ2B(text):
    rstring = ""
    for char in text:
        code = ord(char)
        if code == 0x3000:
            code = 0x0020
        else:
            code -= 0xfee0
        if not (0x0021 <= code <= 0x7e):
            rstring += char
            continue
        rstring += chr(code)
    return rstring
```

---

**ä¸‹ä¸€èŠ‚ï¼š** [ä¸­æ–‡åˆ†è¯](03-ä¸­æ–‡åˆ†è¯.md)

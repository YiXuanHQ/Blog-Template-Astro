---
title: 分组操作
prevChapter: "python-ai/pandas/09-数据统计"
nextChapter: "python-ai/pandas/11-数据可视化"
parentChapter: "python-ai/pandas/README"
---
# 分组操作

> 掌握groupby分组分析

## 📚 学习目标

- 掌握groupby基础
- 学会分组聚合
- 理解transform和filter
- 掌握多键分组

## 1. groupby基础

```python
import pandas as pd

df = pd.DataFrame({
    'category': ['A', 'B', 'A', 'B'],
    'value': [10, 20, 30, 40]
})

# 分组
grouped = df.groupby('category')

# 查看分组
for name, group in grouped:
    print(f'{name}:\n{group}')
```

## 2. 分组聚合

```python
# 单个聚合
result = df.groupby('category')['value'].sum()

# 多个聚合
result = df.groupby('category').agg({
    'value': ['sum', 'mean', 'count']
})

# 不同列不同聚合
result = df.groupby('category').agg({
    'value1': 'sum',
    'value2': 'mean'
})
```

## 3. transform

```python
# 添加分组统计
df['group_mean'] = df.groupby('category')['value'].transform('mean')
```

## 4. filter

```python
# 过滤分组
result = df.groupby('category').filter(lambda x: x['value'].sum() > 50)
```

---

**下一节：** [数据可视化](11-数据可视化.md)

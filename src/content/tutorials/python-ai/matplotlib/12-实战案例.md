---
title: å®æˆ˜æ¡ˆä¾‹
prevChapter: "python-ai/matplotlib/11-äº¤äº’å¼å›¾è¡¨"
parentChapter: "python-ai/matplotlib/README"
---
# å®æˆ˜æ¡ˆä¾‹

> é€šè¿‡å®æˆ˜é¡¹ç›®æŒæ¡Matplotlib

## ğŸ“š å­¦ä¹ ç›®æ ‡

- åº”ç”¨Matplotlibè§£å†³å®é™…é—®é¢˜
- æŒæ¡å®Œæ•´å¯è§†åŒ–æµç¨‹
- å­¦ä¼šç»¼åˆè¿ç”¨æ‰€å­¦çŸ¥è¯†

## 1. é”€å”®æ•°æ®åˆ†æä»ªè¡¨ç›˜

```python
import matplotlib.pyplot as plt
import numpy as np
import pandas as pd

# ç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®
np.random.seed(42)
dates = pd.date_range('2024-01-01', periods=12, freq='M')
sales = np.random.randint(100, 200, 12)
profit = sales * np.random.uniform(0.15, 0.25, 12)
customers = np.random.randint(500, 1000, 12)

# åˆ›å»ºä»ªè¡¨ç›˜
fig = plt.figure(figsize=(15, 10))
gs = fig.add_gridspec(3, 3, hspace=0.3, wspace=0.3)

# 1. é”€å”®è¶‹åŠ¿
ax1 = fig.add_subplot(gs[0, :])
ax1.plot(dates, sales, marker='o', linewidth=2, label='Sales')
ax1.fill_between(dates, sales, alpha=0.3)
ax1.set_title('Monthly Sales Trend', fontsize=14, fontweight='bold')
ax1.set_ylabel('Sales (K)')
ax1.grid(True, alpha=0.3)
ax1.legend()

# 2. åˆ©æ¶¦åˆ†æ
ax2 = fig.add_subplot(gs[1, :2])
ax2.bar(dates, profit, color='green', alpha=0.7)
ax2.set_title('Monthly Profit', fontsize=14, fontweight='bold')
ax2.set_ylabel('Profit (K)')
ax2.grid(axis='y', alpha=0.3)

# 3. é”€å”®é¢åˆ†å¸ƒ
ax3 = fig.add_subplot(gs[1, 2])
ax3.pie([sales.sum(), profit.sum()], 
        labels=['Revenue', 'Profit'],
        autopct='%1.1f%%',
        colors=['skyblue', 'lightgreen'])
ax3.set_title('Revenue vs Profit')

# 4. å®¢æˆ·å¢é•¿
ax4 = fig.add_subplot(gs[2, :])
ax4.plot(dates, customers, marker='s', color='orange', linewidth=2)
ax4.set_title('Customer Growth', fontsize=14, fontweight='bold')
ax4.set_ylabel('Customers')
ax4.set_xlabel('Month')
ax4.grid(True, alpha=0.3)

plt.suptitle('Sales Dashboard 2024', fontsize=18, fontweight='bold', y=0.98)
plt.savefig('sales_dashboard.png', dpi=300, bbox_inches='tight')
plt.show()
```

## 2. ç§‘å­¦æ•°æ®å¯è§†åŒ–

```python
# åŒå˜é‡åˆ†å¸ƒåˆ†æ
x = np.random.randn(1000)
y = 2 * x + np.random.randn(1000)

fig, axes = plt.subplots(2, 2, figsize=(12, 10))

# æ•£ç‚¹å›¾
axes[0, 0].scatter(x, y, alpha=0.5)
axes[0, 0].set_title('Scatter Plot')
axes[0, 0].set_xlabel('X')
axes[0, 0].set_ylabel('Y')
axes[0, 0].grid(True, alpha=0.3)

# Xåˆ†å¸ƒ
axes[0, 1].hist(x, bins=30, color='blue', alpha=0.7, edgecolor='black')
axes[0, 1].set_title('X Distribution')
axes[0, 1].set_xlabel('X')
axes[0, 1].set_ylabel('Frequency')

# Yåˆ†å¸ƒ
axes[1, 0].hist(y, bins=30, color='red', alpha=0.7, 
                edgecolor='black', orientation='horizontal')
axes[1, 0].set_title('Y Distribution')
axes[1, 0].set_ylabel('Y')
axes[1, 0].set_xlabel('Frequency')

# 2Då¯†åº¦å›¾
from scipy.stats import gaussian_kde
xy = np.vstack([x, y])
z = gaussian_kde(xy)(xy)
axes[1, 1].scatter(x, y, c=z, s=20, cmap='viridis')
axes[1, 1].set_title('2D Density Plot')
axes[1, 1].set_xlabel('X')
axes[1, 1].set_ylabel('Y')

plt.tight_layout()
plt.show()
```

## 3. é‡‘èKçº¿å›¾

```python
# æ¨¡æ‹Ÿè‚¡ç¥¨æ•°æ®
dates = pd.date_range('2024-01-01', periods=100)
open_price = 100 + np.cumsum(np.random.randn(100) * 2)
close_price = open_price + np.random.randn(100) * 3
high_price = np.maximum(open_price, close_price) + np.abs(np.random.randn(100))
low_price = np.minimum(open_price, close_price) - np.abs(np.random.randn(100))
volume = np.random.randint(1000, 5000, 100)

fig, (ax1, ax2) = plt.subplots(2, 1, figsize=(15, 10), 
                                gridspec_kw={'height_ratios': [3, 1]})

# Kçº¿å›¾
colors = ['red' if c < o else 'green' for c, o in zip(close_price, open_price)]
for i in range(len(dates)):
    # å½±çº¿
    ax1.plot([i, i], [low_price[i], high_price[i]], color='black', linewidth=1)
    # Kçº¿å®ä½“
    height = abs(close_price[i] - open_price[i])
    bottom = min(open_price[i], close_price[i])
    ax1.bar(i, height, bottom=bottom, color=colors[i], width=0.6, alpha=0.8)

# ç§»åŠ¨å¹³å‡çº¿
ma5 = pd.Series(close_price).rolling(5).mean()
ma20 = pd.Series(close_price).rolling(20).mean()
ax1.plot(range(len(dates)), ma5, label='MA5', linewidth=2)
ax1.plot(range(len(dates)), ma20, label='MA20', linewidth=2)

ax1.set_title('Stock Price', fontsize=14, fontweight='bold')
ax1.set_ylabel('Price')
ax1.legend()
ax1.grid(True, alpha=0.3)

# æˆäº¤é‡
ax2.bar(range(len(dates)), volume, color=colors, alpha=0.7)
ax2.set_title('Volume', fontsize=12)
ax2.set_ylabel('Volume')
ax2.set_xlabel('Days')
ax2.grid(axis='y', alpha=0.3)

plt.tight_layout()
plt.show()
```

## 4. å¤šç»´æ•°æ®å¯è§†åŒ–

```python
# ç»¼åˆåˆ†æå›¾è¡¨
np.random.seed(42)
n = 200

# ç”Ÿæˆæ•°æ®
categories = np.random.choice(['A', 'B', 'C', 'D'], n)
x = np.random.randn(n)
y = np.random.randn(n)
sizes = np.random.rand(n) * 1000

fig = plt.figure(figsize=(15, 12))

# 1. æ•£ç‚¹å›¾çŸ©é˜µ
for i in range(3):
    for j in range(3):
        ax = plt.subplot(3, 3, i*3+j+1)
        if i == j:
            # å¯¹è§’çº¿ç”»ç›´æ–¹å›¾
            data = x if i == 0 else (y if i == 1 else sizes)
            ax.hist(data, bins=20, color='skyblue', edgecolor='black')
        else:
            # éå¯¹è§’çº¿ç”»æ•£ç‚¹å›¾
            x_data = x if j == 0 else (y if j == 1 else sizes)
            y_data = x if i == 0 else (y if i == 1 else sizes)
            ax.scatter(x_data, y_data, alpha=0.5)
        
        if i == 2:
            ax.set_xlabel(['X', 'Y', 'Size'][j])
        if j == 0:
            ax.set_ylabel(['X', 'Y', 'Size'][i])

plt.suptitle('Scatter Matrix', fontsize=16, fontweight='bold')
plt.tight_layout()
plt.show()
```

## 5. æ—¶é—´åºåˆ—é¢„æµ‹å¯è§†åŒ–

```python
# ç”Ÿæˆæ—¶é—´åºåˆ—æ•°æ®
dates = pd.date_range('2023-01-01', periods=365)
trend = np.linspace(100, 150, 365)
seasonal = 10 * np.sin(np.linspace(0, 4*np.pi, 365))
noise = np.random.randn(365) * 5
data = trend + seasonal + noise

# åˆ†å‰²è®­ç»ƒå’Œæµ‹è¯•é›†
train_size = int(len(data) * 0.8)
train_dates = dates[:train_size]
test_dates = dates[train_size:]
train_data = data[:train_size]
test_data = data[train_size:]

# ç®€å•é¢„æµ‹ï¼ˆç§»åŠ¨å¹³å‡ï¼‰
prediction = pd.Series(train_data).rolling(30).mean().iloc[-1]
predicted_data = np.full(len(test_data), prediction)

# å¯è§†åŒ–
fig, axes = plt.subplots(2, 1, figsize=(15, 10))

# å®Œæ•´æ•°æ®
axes[0].plot(dates, data, label='Actual', linewidth=2)
axes[0].axvline(dates[train_size], color='red', linestyle='--', 
                linewidth=2, label='Train/Test Split')
axes[0].set_title('Time Series Data', fontsize=14, fontweight='bold')
axes[0].set_ylabel('Value')
axes[0].legend()
axes[0].grid(True, alpha=0.3)

# é¢„æµ‹å¯¹æ¯”
axes[1].plot(train_dates, train_data, label='Training Data', linewidth=2)
axes[1].plot(test_dates, test_data, label='Actual Test Data', linewidth=2)
axes[1].plot(test_dates, predicted_data, 'r--', label='Prediction', linewidth=2)
axes[1].fill_between(test_dates, 
                     predicted_data - 10, 
                     predicted_data + 10, 
                     alpha=0.3, label='Confidence Interval')
axes[1].set_title('Prediction vs Actual', fontsize=14, fontweight='bold')
axes[1].set_xlabel('Date')
axes[1].set_ylabel('Value')
axes[1].legend()
axes[1].grid(True, alpha=0.3)

plt.tight_layout()
plt.show()
```

## ğŸ’¡ æ€»ç»“

é€šè¿‡è¿™äº›å®æˆ˜æ¡ˆä¾‹ï¼Œä½ åº”è¯¥æŒæ¡äº†ï¼š

1. **ç»¼åˆå¸ƒå±€** - ä½¿ç”¨GridSpecåˆ›å»ºå¤æ‚å¸ƒå±€
2. **å¤šå›¾è¡¨ç»„åˆ** - å°†ä¸åŒç±»å‹å›¾è¡¨ç»„åˆå±•ç¤º
3. **æ ·å¼ç¾åŒ–** - ä½¿ç”¨é¢œè‰²ã€å­—ä½“ã€ç½‘æ ¼ç­‰ç¾åŒ–å›¾è¡¨
4. **æ•°æ®storytelling** - é€šè¿‡å¯è§†åŒ–è®²è¿°æ•°æ®æ•…äº‹
5. **ä¸“ä¸šå›¾è¡¨** - åˆ›å»ºæ¥è¿‘å•†ä¸šçº§åˆ«çš„å¯è§†åŒ–

## ç»ƒä¹ é¡¹ç›®

1. åˆ›å»ºä¸€ä¸ªä¸ªäººè´¢åŠ¡åˆ†æä»ªè¡¨ç›˜
2. åˆ¶ä½œä¸€ä¸ªCOVID-19æ•°æ®è¿½è¸ªå›¾è¡¨
3. è®¾è®¡ä¸€ä¸ªæœºå™¨å­¦ä¹ æ¨¡å‹æ€§èƒ½å¯¹æ¯”å›¾
4. å¼€å‘ä¸€ä¸ªå®æ—¶æ•°æ®ç›‘æ§é¢æ¿

---

**æ­å–œå®Œæˆ Matplotlib æ•™ç¨‹ï¼** ğŸ‰

ç»§ç»­å­¦ä¹ ï¼š[Seaborn ç»Ÿè®¡å¯è§†åŒ–](../seaborn/) æˆ– [Plotly äº¤äº’å¼å¯è§†åŒ–](../plotly/)
